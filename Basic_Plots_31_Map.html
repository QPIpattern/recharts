<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Basic Plots 31 - Map</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/htmlwidgets-0.7/htmlwidgets.js"></script>
<script src="libs/echarts-2.2.7/echarts-all.js"></script>
<script src="libs/echarts-2.2.7/ext/main.js"></script>
<script src="libs/echarts-2.2.7/ext/BMap.js"></script>
<script src="libs/echarts-2.2.7/ext/params.js"></script>
<script src="libs/echarts-binding-0.0.5/echarts.js"></script>
<script src="libs/echarts-module-2.2.7/base.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 70px;
}
p code {
  white-space: inherit;
}
.html-widget-static-bound {
  margin: auto;
}
.alert>p {
  margin-bottom: 10.5px;
}
</style>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/default.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="./">recharts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="./">Home</a></li>
        <li><a href="index_cn.html">首页</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/madlogos/recharts" title="View Source on Github"><i class="fa fa-github fa-lg"></i></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic Plots 31 - Map</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#function-call"><span class="toc-section-number">2</span> Function Call</a></li>
<li><a href="#showcase"><span class="toc-section-number">3</span> Showcase</a><ul>
<li><a href="#base-map-mode"><span class="toc-section-number">3.1</span> Base Map Mode</a><ul>
<li><a href="#complete-base-map"><span class="toc-section-number">3.1.1</span> Complete Base Map</a></li>
<li><a href="#partial-base-map"><span class="toc-section-number">3.1.2</span> Partial Base map</a></li>
</ul></li>
<li><a href="#extensive-base-map-mode"><span class="toc-section-number">3.2</span> Extensive Base Map Mode</a><ul>
<li><a href="#multi-select-base-map"><span class="toc-section-number">3.2.1</span> Multi-select Base Map</a></li>
<li><a href="#multiple-maps"><span class="toc-section-number">3.2.2</span> Multiple Maps</a></li>
</ul></li>
<li><a href="#data-map-mode"><span class="toc-section-number">3.3</span> Data Map Mode</a><ul>
<li><a href="#single-series"><span class="toc-section-number">3.3.1</span> Single Series</a></li>
<li><a href="#multiple-series"><span class="toc-section-number">3.3.2</span> Multiple Series</a></li>
<li><a href="#maps-with-timeline"><span class="toc-section-number">3.3.3</span> Maps with Timeline</a></li>
</ul></li>
<li><a href="#extensive-data-map-mode"><span class="toc-section-number">3.4</span> Extensive Data Map Mode</a><ul>
<li><a href="#multi-select-data-map"><span class="toc-section-number">3.4.1</span> Multi-select Data Map</a></li>
<li><a href="#multiple-maps-1"><span class="toc-section-number">3.4.2</span> Multiple Maps</a></li>
</ul></li>
</ul></li>
<li><a href="#futher-setup"><span class="toc-section-number">4</span> Futher Setup</a><ul>
<li><a href="#addoverride-namemap"><span class="toc-section-number">4.1</span> Add/Override nameMap</a></li>
<li><a href="#addoverride-markline"><span class="toc-section-number">4.2</span> Add/Override markLine</a><ul>
<li><a href="#addmarkline"><span class="toc-section-number">4.2.1</span> <code>addMarkLine</code></a></li>
<li><a href="#addgeocoord"><span class="toc-section-number">4.2.2</span> <code>addGeoCoord</code></a></li>
</ul></li>
<li><a href="#addoverride-markpoint"><span class="toc-section-number">4.3</span> Add/Override markPoint</a><ul>
<li><a href="#addmarkpoint"><span class="toc-section-number">4.3.1</span> <code>addMarkPoint</code></a></li>
<li><a href="#addgeocoord-1"><span class="toc-section-number">4.3.2</span> <code>addGeoCoord</code></a><ul>
<li><a href="#pre-installed-geocoord-dataset"><span class="toc-section-number">4.3.2.1</span> Pre-installed geoCoord dataset</a></li>
<li><a href="#query-the-coordinates"><span class="toc-section-number">4.3.2.2</span> Query the Coordinates</a></li>
</ul></li>
</ul></li>
<li><a href="#addmarkline-and-addmarkpoint"><span class="toc-section-number">4.4</span> <code>addMarkLine</code> And <code>addMarkPoint</code></a></li>
<li><a href="#addoverride-heatmap"><span class="toc-section-number">4.5</span> Add/Override heatMap</a></li>
</ul></li>
</ul>
</div>

<p>First, you should load <code>recharts</code>:</p>
<pre class="r"><code>library(recharts)</code></pre>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>Map includes 4 basic types:</p>
<ul>
<li>China Map</li>
<li>China Map with Multiple Selection</li>
<li>World Map</li>
<li>World Map with Multiple Selection</li>
</ul>
<table id="intro">
<tr>
<td>
<div id="echarts-c91bb3c9b220ac0089500471aa76bc4392527e3f" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-c91bb3c9b220ac0089500471aa76bc4392527e3f">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1103605","selected":false},{"name":"江苏","value":"1059587","selected":false},{"name":"山东","value":"967419","selected":false},{"name":"浙江","value":"653668","selected":false},{"name":"河南","value":"568786","selected":false},{"name":"河北","value":"478953","selected":false},{"name":"辽宁","value":"466018","selected":false},{"name":"四川","value":"464555","selected":false},{"name":"湖北","value":"445514","selected":false},{"name":"湖南","value":"440328","selected":false},{"name":"福建","value":"391609","selected":false},{"name":"上海","value":"383554","selected":false},{"name":"北京","value":"347249","selected":false},{"name":"安徽","value":"339401","selected":false},{"name":"内蒙古","value":"289274","selected":false},{"name":"陕西","value":"287978","selected":false},{"name":"天津","value":"255950","selected":false},{"name":"江西","value":"255724","selected":false},{"name":"广西","value":"255144","selected":false},{"name":"黑龙江","value":"244829","selected":false},{"name":"重庆","value":"232230","selected":false},{"name":"吉林","value":"224715","selected":false},{"name":"云南","value":"208612","selected":false},{"name":"山西","value":"207714","selected":false},{"name":"新疆","value":"150812","selected":false},{"name":"贵州","value":"150599","selected":false},{"name":"甘肃","value":"111273","selected":false},{"name":"海南","value":"56989","selected":false},{"name":"宁夏","value":"44802","selected":false},{"name":"青海","value":"37460","selected":false},{"name":"西藏","value":"14990","selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"min":14990,"max":1103605},"title":{"text":"China GDP by Provice, 2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"},"theme":"infographic"},"evals":[],"jsHooks":[]}</script>
</td>
<td>
<div id="echarts-5476b2c2c6405d382189e9c687ae5520c57ead31" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-5476b2c2c6405d382189e9c687ae5520c57ead31">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1103605","selected":false},{"name":"江苏","value":"1059587","selected":false},{"name":"山东","value":"967419","selected":false},{"name":"浙江","value":"653668","selected":false},{"name":"河南","value":"568786","selected":false},{"name":"河北","value":"478953","selected":false},{"name":"辽宁","value":"466018","selected":false},{"name":"四川","value":"464555","selected":false},{"name":"湖北","value":"445514","selected":false},{"name":"湖南","value":"440328","selected":false},{"name":"福建","value":"391609","selected":false},{"name":"上海","value":"383554","selected":false},{"name":"北京","value":"347249","selected":false},{"name":"安徽","value":"339401","selected":false},{"name":"内蒙古","value":"289274","selected":false},{"name":"陕西","value":"287978","selected":false},{"name":"天津","value":"255950","selected":false},{"name":"江西","value":"255724","selected":false},{"name":"广西","value":"255144","selected":false},{"name":"黑龙江","value":"244829","selected":false},{"name":"重庆","value":"232230","selected":false},{"name":"吉林","value":"224715","selected":false},{"name":"云南","value":"208612","selected":false},{"name":"山西","value":"207714","selected":false},{"name":"新疆","value":"150812","selected":false},{"name":"贵州","value":"150599","selected":false},{"name":"甘肃","value":"111273","selected":false},{"name":"海南","value":"56989","selected":false},{"name":"宁夏","value":"44802","selected":false},{"name":"青海","value":"37460","selected":false},{"name":"西藏","value":"14990","selected":false}],"name":"GDP","selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"min":14990,"max":1103605},"title":{"text":"China GDP by Provice, 2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"},"theme":"roma"},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td>
<div id="echarts-b715a101fa49e4f8a4988e1d65ad1a4c6628b27c" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-b715a101fa49e4f8a4988e1d65ad1a4c6628b27c">{"x":{"series":[{"type":"map","roam":true,"mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":"17418925","selected":false},{"name":"China","value":"10380380","selected":false},{"name":"Japan","value":"4616335","selected":false},{"name":"Germany","value":"3859547","selected":false},{"name":"United Kingdom","value":"2945146","selected":false},{"name":"France","value":"2846889","selected":false},{"name":"Brazil","value":"2353025","selected":false},{"name":"Italy","value":"2147952","selected":false},{"name":"India","value":"2049501","selected":false},{"name":"Russia","value":"1857461","selected":false},{"name":"Canada","value":"1788717","selected":false},{"name":"Australia","value":"1444189","selected":false},{"name":"South Korea","value":"1416949","selected":false},{"name":"Spain","value":"1406855","selected":false},{"name":"Mexico","value":"1282725","selected":false},{"name":"Indonesia","value":"888648","selected":false},{"name":"Netherlands","value":"866354","selected":false},{"name":"Turkey","value":"806108","selected":false},{"name":"Saudi Arabia","value":"752459","selected":false},{"name":"Switzerland","value":"712050","selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF"],"min":712050,"max":17418925},"title":{"text":"World GDP Top 20, 2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"},"theme":"macarons"},"evals":[],"jsHooks":[]}</script>
</td>
<td>
<div id="echarts-3967100877b10e1a58b7da51d616913e8c6ccf7a" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-3967100877b10e1a58b7da51d616913e8c6ccf7a">{"x":{"series":[{"type":"map","roam":true,"mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":"17418925","selected":false},{"name":"China","value":"10380380","selected":false},{"name":"Japan","value":"4616335","selected":false},{"name":"Germany","value":"3859547","selected":false},{"name":"United Kingdom","value":"2945146","selected":false},{"name":"France","value":"2846889","selected":false},{"name":"Brazil","value":"2353025","selected":false},{"name":"Italy","value":"2147952","selected":false},{"name":"India","value":"2049501","selected":false},{"name":"Russia","value":"1857461","selected":false},{"name":"Canada","value":"1788717","selected":false},{"name":"Australia","value":"1444189","selected":false},{"name":"South Korea","value":"1416949","selected":false},{"name":"Spain","value":"1406855","selected":false},{"name":"Mexico","value":"1282725","selected":false},{"name":"Indonesia","value":"888648","selected":false},{"name":"Netherlands","value":"866354","selected":false},{"name":"Turkey","value":"806108","selected":false},{"name":"Saudi Arabia","value":"752459","selected":false},{"name":"Switzerland","value":"712050","selected":false}],"name":"GDP","selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF"],"min":712050,"max":17418925},"title":{"text":"World GDP Top 20, 2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"},"theme":"macarons2"},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
</table>
<p>The keys are:</p>
<ul>
<li>Base Map Mode:
<ul>
<li>Simply assign <code>type</code> and/or <code>subtype</code> to display the base map</li>
</ul></li>
<li>Data Map Mode:</li>
<li>character <code>x</code>
<ul>
<li><code>x[,1]</code> must be valid geographic names, e.g., ‘United States of America’ instead of ‘USA’ or ‘U.S.’.</li>
<li>if <code>x[,2]</code> is given, it is data series variable.</li>
</ul></li>
<li>numeric/logical <code>y</code>
<ul>
<li><code>y[,1]</code>: value</li>
<li><code>y[,2]</code>: logical, if is selected. Also allowed to use 1 for TRUE, 0 for FALSE.</li>
</ul></li>
<li>series is mapped to separate maps, i.e., each level of series represents a map. The series variable should also be valid geograhic names.</li>
<li>You can additionally add map data to the echarts object
<ul>
<li><code>addNameMap</code> for geoName mapping/translation;</li>
<li><code>addHeatMap</code> for additional heatmap graph layer</li>
<li><code>addMarkLine</code> or <code>addMarkPoint</code> to add markLines and/or markPoints
<ul>
<li><code>addGeoCoord</code> to define coordinates of the places for markLine and markPoint</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="function-call" class="section level1">
<h1><span class="header-section-number">2</span> Function Call</h1>
<pre class="r"><code>echartr(data, &lt;x&gt;, &lt;y&gt;, &lt;series&gt;, &lt;lng&gt;, &lt;lat&gt;, &lt;z&gt;, &lt;type&gt;, &lt;subtype&gt;)</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Arg</th>
<th align="left">Requirement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><strong>data</strong></p></td>
<td align="left"><p>source data in the form of data.frame</p></td>
</tr>
<tr class="even">
<td align="left"><p><strong>x</strong></p></td>
<td align="left"><p>character independent variable. Other type will be coerced to factors. Only the first 2 are accepted if multiple variables are provided. <code>x[,1]</code> must be valid geographic names. if <code>x[,2]</code> is given, it is used as data series variable.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><strong>y</strong></p></td>
<td align="left"><p>numeric dependent variable. Only the first 2 are accepted if multiple variables are provided. <code>y[,1]</code> acts as the value and <code>y[,2]</code> (logical) represents the status of selected/unselected. It is also allowed to use 1 for TRUE, 0 for FALSE in <code>y[,2]</code>.</p></td>
</tr>
<tr class="even">
<td align="left"><p>series</p></td>
<td align="left"><p>series variable which will be coerced to factors. Each level of <code>series</code> is treated as a subsetting factor to produce separate maps. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>z</p></td>
<td align="left"><p>timeline variable which will be coerced to factors. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="even">
<td align="left"><p>type</p></td>
<td align="left"><p>‘map_world’, ‘map_world_multi’, ‘map_china’, ‘map_china_multi’.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>subtype</p></td>
<td align="left"><ul>
<li>map_world: c(“sum”, “average”, [country names])
<ul>
<li>sum: the map value is calculated by ‘sum’ (default algorithm).</li>
<li>average: the map value is calculated by ‘average’.</li>
<li>[country names]: A set of strings that are valid in Echarts. Refer to ‘valid country names’ below.</li>
</ul></li>
<li>map_world_multi: c(“sum”, “average”, [country names])</li>
<li>map_china: c(“sum”, “average”, [China province names])
<ul>
<li>[China province names]: A set of strings that are valid in Echarts. Refer to ‘valid china province names’ below.</li>
</ul></li>
<li>map_china_multi: c(“sum”, “average”, <China province names>)</li>
</ul></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Valid country names:</strong>
<ul>
<li>“Afghanistan”, “Angola”, “Albania”, “United Arab Emirates”, “Argentina”, “Armenia”, “French Southern and Antarctic Lands”, “Australia”, “Austria”, “Azerbaijan”, “Burundi”, “Belgium”, “Benin”, “Burkina Faso”, “Bangladesh”, “Bulgaria”, “The Bahamas”, “Bosnia and Herzegovina”, “Belarus”, “Belize”, “Bermuda”, “Bolivia”, “Brazil”, “Brunei”, “Bhutan”, “Botswana”, “Central African Republic”, “Canada”, “Switzerland”, “Chile”, “China”, “Ivory Coast”, “Cameroon”, “Democratic Republic of the Congo”, “Republic of the Congo”, “Colombia”, “Costa Rica”, “Cuba”, “Northern Cyprus”, “Cyprus”, “Czech Republic”, “Germany”, “Djibouti”, “Denmark”, “Dominican Republic”, “Algeria”, “Ecuador”, “Egypt”, “Eritrea”, “Spain”, “Estonia”, “Ethiopia”, “Finland”, “Fiji”, “Falkland Islands”, “France”, “Gabon”, “United Kingdom”, “Georgia”, “Ghana”, “Guinea”, “Gambia”, “Guinea Bissau”, “Equatorial Guinea”, “Greece”, “Greenland”, “Guatemala”, “French Guiana”, “Guyana”, “Honduras”, “Croatia”, “Haiti”, “Hungary”, “Indonesia”, “India”, “Ireland”, “Iran”, “Iraq”, “Iceland”, “Israel”, “Italy”, “Jamaica”, “Jordan”, “Japan”, “Kazakhstan”, “Kenya”, “Kyrgyzstan”, “Cambodia”, “South Korea”, “Kosovo”, “Kuwait”, “Laos”, “Lebanon”, “Liberia”, “Libya”, “Sri Lanka”, “Lesotho”, “Lithuania”, “Luxembourg”, “Latvia”, “Morocco”, “Moldova”, “Madagascar”, “Mexico”, “Macedonia”, “Mali”, “Myanmar”, “Montenegro”, “Mongolia”, “Mozambique”, “Mauritania”, “Malawi”, “Malaysia”, “Namibia”, “New Caledonia”, “Niger”, “Nigeria”, “Nicaragua”, “Netherlands”, “Norway”, “Nepal”, “New Zealand”, “Oman”, “Pakistan”, “Panama”, “Peru”, “Philippines”, “Papua New Guinea”, “Poland”, “Puerto Rico”, “North Korea”, “Portugal”, “Paraguay”, “Qatar”, “Romania”, “Russia”, “Rwanda”, “Western Sahara”, “Saudi Arabia”, “Sudan”, “South Sudan”, “Senegal”, “Solomon Islands”, “Sierra Leone”, “El Salvador”, “Somaliland”, “Somalia”, “Republic of Serbia”, “Suriname”, “Slovakia”, “Slovenia”, “Sweden”, “Swaziland”, “Syria”, “Chad”, “Togo”, “Thailand”, “Tajikistan”, “Turkmenistan”, “East Timor”, “Trinidad and Tobago”, “Tunisia”, “Turkey”, “United Republic of Tanzania”, “Uganda”, “Ukraine”, “Uruguay”, “United States of America”, “Uzbekistan”, “Venezuela”, “Vietnam”, “Vanuatu”, “West Bank”, “Yemen”, “South Africa”, “Zambia”, “Zimbabwe”</li>
</ul></li>
<li><strong>Valid China province names:</strong>
<ul>
<li>“新疆”, “西藏”, “内蒙古”, “青海”, “四川”, “黑龙江”, “甘肃”, “云南”, “广西”, “湖南”, “陕西”, “广东”, “吉林”, “河北”, “湖北”, “贵州”, “山东”, “江西”, “河南”, “辽宁”, “山西”, “安徽”, “福建”, “浙江”, “江苏”, “重庆”, “宁夏”, “海南”, “台湾”, “北京”, “天津”, “上海”, “香港”, “澳门”</li>
</ul></li>
</ul>
</div>
<div id="showcase" class="section level1">
<h1><span class="header-section-number">3</span> Showcase</h1>
<div id="base-map-mode" class="section level2">
<h2><span class="header-section-number">3.1</span> Base Map Mode</h2>
<p>If you leave all params NULL except for <code>type</code> and/or <code>subtype</code>, you will get a base map with no data shown.</p>
<div id="complete-base-map" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Complete Base Map</h3>
<p>Set <code>type</code> ‘map_world’ or ‘map_china’. Leave all other params NULL.</p>
<pre class="r"><code>echartr(NULL, type=&#39;map_world&#39;) %&gt;% setTitle(&#39;World Map&#39;)</code></pre>
<div id="echarts-dade6051145483c6a8d1cb9adfe242106b8229ee" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-dade6051145483c6a8d1cb9adfe242106b8229ee">{"x":{"series":[{"type":"map","roam":true,"mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World Map","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>echartr(NULL, type=&#39;map_china&#39;) %&gt;% setTitle(&#39;China Map&#39;)</code></pre>
<div id="echarts-24ca24ede4bb92fd765795d8a825f1aa1284b92c" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-24ca24ede4bb92fd765795d8a825f1aa1284b92c">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"China Map","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="partial-base-map" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Partial Base map</h3>
<p>You can also display partial maps. Political zones of China can act as the independent mapType, so you can see its subordinate areas.</p>
<pre class="r"><code>echartr(NULL, type=&#39;map_world&#39;, subtype=&#39;United States of America&#39;) %&gt;% 
    setTitle(&#39;World Map|USA&#39;)</code></pre>
<div id="echarts-ebd5aafd3721ae99d444a803cda33b5ae6315bb9" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-ebd5aafd3721ae99d444a803cda33b5ae6315bb9">{"x":{"series":[{"type":"map","roam":true,"mapType":"world|United States of America","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World Map|USA","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>echartr(NULL, type=&#39;map_china&#39;, subtype=&#39;上海&#39;) %&gt;% 
    setTitle(&#39;China Map|Shanghai&#39;)</code></pre>
<div id="echarts-e36e663f9790191743d98b5a703c77e0eda0a4ed" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-e36e663f9790191743d98b5a703c77e0eda0a4ed">{"x":{"series":[{"type":"map","roam":true,"mapType":"上海","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"China Map|Shanghai","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="extensive-base-map-mode" class="section level2">
<h2><span class="header-section-number">3.2</span> Extensive Base Map Mode</h2>
<div id="multi-select-base-map" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Multi-select Base Map</h3>
<p>Set <code>type</code> ‘map_world_multi’ or ‘map_china_multi’, you will get a base map for multiple selection. You can also apply subtypes to it.</p>
<pre class="r"><code>echartr(NULL, type=&#39;map_world_multi&#39;) %&gt;% setTitle(&#39;World Map&#39;)</code></pre>
<div id="echarts-830e004225c80833304107c093e396511648d49e" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-830e004225c80833304107c093e396511648d49e">{"x":{"series":[{"type":"map","roam":true,"mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World Map","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>echartr(NULL, type=&#39;map_china_multi&#39;, subtype=&#39;上海&#39;) %&gt;% 
    setTitle(&#39;China Map|Shanghai&#39;)</code></pre>
<div id="echarts-aaa682bac41cd36ea45a87e4d32c5349dc89e09b" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-aaa682bac41cd36ea45a87e4d32c5349dc89e09b">{"x":{"series":[{"type":"map","roam":true,"mapType":"上海","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"China Map|Shanghai","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="multiple-maps" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Multiple Maps</h3>
<p>If you assign <code>series</code> and <code>subtype</code> with valid geographic names, you will yield separated multiple maps.</p>
<pre class="r"><code>data &lt;- data.frame(x=c(&#39;United States of America&#39;, &#39;China&#39;, &#39;Japan&#39;))
echartr(data, x, series=x, type=&#39;map_world&#39;, subtype=data$x)</code></pre>
<div id="echarts-d4eff251747bedd6f53ed121822d6174d6c86e5f" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-d4eff251747bedd6f53ed121822d6174d6c86e5f">{"x":{"series":[{"type":"map","roam":true,"mapType":"world|United States of America","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"mapLocation":{"x":"6.25%","y":"6.25%","width":"41%","height":"41%"}},{"type":"map","roam":true,"mapType":"world|China","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"mapLocation":{"x":"51.25%","y":"6.25%","width":"41%","height":"41%"}},{"type":"map","roam":true,"mapType":"world|Japan","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"mapLocation":{"x":"6.25%","y":"51.25%","width":"41%","height":"41%"}}],"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="data-map-mode" class="section level2">
<h2><span class="header-section-number">3.3</span> Data Map Mode</h2>
<p>You can attach data onto the base map to render it more informative.</p>
<div id="single-series" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Single Series</h3>
<p>If no <code>x[,2]</code> is assigned, the map does not differentiate data series.</p>
<pre class="r"><code>worldgdp &lt;- data.frame(
    country=c(&#39;United States of America&#39;,&#39;China&#39;,&#39;Japan&#39;,&#39;Germany&#39;,
              &#39;United Kingdom&#39;,&#39;France&#39;,&#39;Brazil&#39;, &#39;Italy&#39;,&#39;India&#39;,&#39;Russia&#39;,
              &#39;Canada&#39;,&#39;Australia&#39;,&#39;South Korea&#39;,&#39;Spain&#39;,&#39;Mexico&#39;,&#39;Indonesia&#39;,
              &#39;Netherlands&#39;,&#39;Turkey&#39;,&#39;Saudi Arabia&#39;,&#39;Switzerland&#39;),
    GDP=c(17418925,10380380,4616335,3859547,2945146,2846889,2353025,2147952,
          2049501,1857461,1788717,1444189,1416949,1406855,1282725,888648,866354,
          806108,752459,712050))
echartr(worldgdp, country, GDP, type=&quot;map_world&quot;) %&gt;%
    setTitle(&quot;World GDP Top 20, 2014&quot;)</code></pre>
<div id="echarts-3e0de73f644e4efb3c58918d23623888ad9d7e29" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-3e0de73f644e4efb3c58918d23623888ad9d7e29">{"x":{"series":[{"type":"map","roam":true,"mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":"17418925","selected":false},{"name":"China","value":"10380380","selected":false},{"name":"Japan","value":"4616335","selected":false},{"name":"Germany","value":"3859547","selected":false},{"name":"United Kingdom","value":"2945146","selected":false},{"name":"France","value":"2846889","selected":false},{"name":"Brazil","value":"2353025","selected":false},{"name":"Italy","value":"2147952","selected":false},{"name":"India","value":"2049501","selected":false},{"name":"Russia","value":"1857461","selected":false},{"name":"Canada","value":"1788717","selected":false},{"name":"Australia","value":"1444189","selected":false},{"name":"South Korea","value":"1416949","selected":false},{"name":"Spain","value":"1406855","selected":false},{"name":"Mexico","value":"1282725","selected":false},{"name":"Indonesia","value":"888648","selected":false},{"name":"Netherlands","value":"866354","selected":false},{"name":"Turkey","value":"806108","selected":false},{"name":"Saudi Arabia","value":"752459","selected":false},{"name":"Switzerland","value":"712050","selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World GDP Top 20, 2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<p>But point markers are not that informative. Let’s color the areas by mapping the data to dataRange.</p>
<pre class="r"><code>echartr(worldgdp, country, GDP, type=&quot;map_world&quot;) %&gt;%
    setDataRange(splitNumber=0, 
                 color=getColFromPal(&#39;rainbow&#39;)) %&gt;%
    setTitle(&quot;World GDP Top 20, 2014&quot;)</code></pre>
<div id="echarts-ae91c2d574a2d74281d0de02ceecb1e8a40ed23c" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-ae91c2d574a2d74281d0de02ceecb1e8a40ed23c">{"x":{"series":[{"type":"map","roam":true,"mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":"17418925","selected":false},{"name":"China","value":"10380380","selected":false},{"name":"Japan","value":"4616335","selected":false},{"name":"Germany","value":"3859547","selected":false},{"name":"United Kingdom","value":"2945146","selected":false},{"name":"France","value":"2846889","selected":false},{"name":"Brazil","value":"2353025","selected":false},{"name":"Italy","value":"2147952","selected":false},{"name":"India","value":"2049501","selected":false},{"name":"Russia","value":"1857461","selected":false},{"name":"Canada","value":"1788717","selected":false},{"name":"Australia","value":"1444189","selected":false},{"name":"South Korea","value":"1416949","selected":false},{"name":"Spain","value":"1406855","selected":false},{"name":"Mexico","value":"1282725","selected":false},{"name":"Indonesia","value":"888648","selected":false},{"name":"Netherlands","value":"866354","selected":false},{"name":"Turkey","value":"806108","selected":false},{"name":"Saudi Arabia","value":"752459","selected":false},{"name":"Switzerland","value":"712050","selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF"],"min":712050,"max":17418925},"title":{"text":"World GDP Top 20, 2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="multiple-series" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Multiple Series</h3>
<p>Let’s use <code>ChinaGDP</code> dataset with ‘Year’ as data series variable.</p>
<pre class="r"><code>str(ChinaGDP)</code></pre>
<pre><code>## &#39;data.frame&#39;:    93 obs. of  3 variables:
##  $ Year: num  2014 2014 2014 2014 2014 ...
##  $ Prov: chr  &quot;广东&quot; &quot;江苏&quot; &quot;山东&quot; &quot;浙江&quot; ...
##  $ GDP : num  1103605 1059587 967419 653668 568786 ...</code></pre>
<pre class="r"><code>totGDP &lt;- data.table::dcast(ChinaGDP, Prov~., sum, value.var=&#39;GDP&#39;)

ChinaGDP &lt;- ChinaGDP[order(ChinaGDP$Year),]
echartr(ChinaGDP, c(Prov, Year), GDP, type=&quot;map_china&quot;) %&gt;%
    setDataRange(splitNumber=0, valueRange=range(totGDP[, 2]), 
                 color=c(&#39;red&#39;,&#39;orange&#39;,&#39;yellow&#39;,&#39;limegreen&#39;,&#39;green&#39;)) %&gt;%
    setTitle(&quot;China GDP by Provice, 2012-2014&quot;)</code></pre>
<div id="echarts-afd6f98f946269427ed9a912f69c13b28407b874" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-afd6f98f946269427ed9a912f69c13b28407b874">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"904046","selected":false},{"name":"江苏","value":"856368","selected":false},{"name":"山东","value":"792289","selected":false},{"name":"浙江","value":"549154","selected":false},{"name":"河南","value":"468900","selected":false},{"name":"河北","value":"420990","selected":false},{"name":"辽宁","value":"393607","selected":false},{"name":"四川","value":"378183","selected":false},{"name":"湖北","value":"352482","selected":false},{"name":"湖南","value":"350958","selected":false},{"name":"上海","value":"319710","selected":false},{"name":"福建","value":"312107","selected":false},{"name":"北京","value":"283238","selected":false},{"name":"安徽","value":"272666","selected":false},{"name":"内蒙古","value":"251574","selected":false},{"name":"陕西","value":"228969","selected":false},{"name":"黑龙江","value":"216896","selected":false},{"name":"广西","value":"206497","selected":false},{"name":"江西","value":"205131","selected":false},{"name":"天津","value":"204259","selected":false},{"name":"山西","value":"191886","selected":false},{"name":"吉林","value":"189136","selected":false},{"name":"重庆","value":"180746","selected":false},{"name":"云南","value":"163318","selected":false},{"name":"新疆","value":"118896","selected":false},{"name":"贵州","value":"108550","selected":false},{"name":"甘肃","value":"89508","selected":false},{"name":"海南","value":"45236","selected":false},{"name":"宁夏","value":"37090","selected":false},{"name":"青海","value":"29997","selected":false},{"name":"西藏","value":"11105","selected":false}],"name":"2012"},{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1003746","selected":false},{"name":"江苏","value":"955269","selected":false},{"name":"山东","value":"882974","selected":false},{"name":"浙江","value":"606609","selected":false},{"name":"河南","value":"519212","selected":false},{"name":"河北","value":"456976","selected":false},{"name":"辽宁","value":"437216","selected":false},{"name":"四川","value":"424026","selected":false},{"name":"湖北","value":"398316","selected":false},{"name":"湖南","value":"395622","selected":false},{"name":"福建","value":"351347","selected":false},{"name":"上海","value":"348804","selected":false},{"name":"北京","value":"314871","selected":false},{"name":"安徽","value":"307416","selected":false},{"name":"内蒙古","value":"271788","selected":false},{"name":"陕西","value":"259078","selected":false},{"name":"黑龙江","value":"232237","selected":false},{"name":"广西","value":"232158","selected":false},{"name":"天津","value":"232031","selected":false},{"name":"江西","value":"231520","selected":false},{"name":"吉林","value":"209608","selected":false},{"name":"重庆","value":"204364","selected":false},{"name":"山西","value":"203485","selected":false},{"name":"云南","value":"189255","selected":false},{"name":"新疆","value":"134991","selected":false},{"name":"贵州","value":"129284","selected":false},{"name":"甘肃","value":"101208","selected":false},{"name":"海南","value":"50805","selected":false},{"name":"宁夏","value":"41417","selected":false},{"name":"青海","value":"33925","selected":false},{"name":"西藏","value":"13041","selected":false}],"name":"2013"},{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1103605","selected":false},{"name":"江苏","value":"1059587","selected":false},{"name":"山东","value":"967419","selected":false},{"name":"浙江","value":"653668","selected":false},{"name":"河南","value":"568786","selected":false},{"name":"河北","value":"478953","selected":false},{"name":"辽宁","value":"466018","selected":false},{"name":"四川","value":"464555","selected":false},{"name":"湖北","value":"445514","selected":false},{"name":"湖南","value":"440328","selected":false},{"name":"福建","value":"391609","selected":false},{"name":"上海","value":"383554","selected":false},{"name":"北京","value":"347249","selected":false},{"name":"安徽","value":"339401","selected":false},{"name":"内蒙古","value":"289274","selected":false},{"name":"陕西","value":"287978","selected":false},{"name":"天津","value":"255950","selected":false},{"name":"江西","value":"255724","selected":false},{"name":"广西","value":"255144","selected":false},{"name":"黑龙江","value":"244829","selected":false},{"name":"重庆","value":"232230","selected":false},{"name":"吉林","value":"224715","selected":false},{"name":"云南","value":"208612","selected":false},{"name":"山西","value":"207714","selected":false},{"name":"新疆","value":"150812","selected":false},{"name":"贵州","value":"150599","selected":false},{"name":"甘肃","value":"111273","selected":false},{"name":"海南","value":"56989","selected":false},{"name":"宁夏","value":"44802","selected":false},{"name":"青海","value":"37460","selected":false},{"name":"西藏","value":"14990","selected":false}],"name":"2014"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["2012","2013","2014"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"min":39136,"max":3011397},"title":{"text":"China GDP by Provice, 2012-2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<p>This applies ‘sum’ as <code>mapvalueCalculation</code> method. Add ‘average’ to <code>subtype</code> to change the method to ‘avarge’.</p>
<pre class="r"><code>echartr(ChinaGDP, c(Prov, Year), GDP, type=&quot;map_china&quot;, subtype=&#39;average&#39;) %&gt;%
    setDataRange(splitNumber=0, 
                 color=c(&#39;red&#39;,&#39;orange&#39;,&#39;yellow&#39;,&#39;limegreen&#39;,&#39;green&#39;)) %&gt;%
    setTitle(&quot;China GDP by Provice, 2012-2014&quot;)</code></pre>
<div id="echarts-abb1f72265aa6e2a802c8b3f0fb53a77fc14a9b8" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-abb1f72265aa6e2a802c8b3f0fb53a77fc14a9b8">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"904046","selected":false},{"name":"江苏","value":"856368","selected":false},{"name":"山东","value":"792289","selected":false},{"name":"浙江","value":"549154","selected":false},{"name":"河南","value":"468900","selected":false},{"name":"河北","value":"420990","selected":false},{"name":"辽宁","value":"393607","selected":false},{"name":"四川","value":"378183","selected":false},{"name":"湖北","value":"352482","selected":false},{"name":"湖南","value":"350958","selected":false},{"name":"上海","value":"319710","selected":false},{"name":"福建","value":"312107","selected":false},{"name":"北京","value":"283238","selected":false},{"name":"安徽","value":"272666","selected":false},{"name":"内蒙古","value":"251574","selected":false},{"name":"陕西","value":"228969","selected":false},{"name":"黑龙江","value":"216896","selected":false},{"name":"广西","value":"206497","selected":false},{"name":"江西","value":"205131","selected":false},{"name":"天津","value":"204259","selected":false},{"name":"山西","value":"191886","selected":false},{"name":"吉林","value":"189136","selected":false},{"name":"重庆","value":"180746","selected":false},{"name":"云南","value":"163318","selected":false},{"name":"新疆","value":"118896","selected":false},{"name":"贵州","value":"108550","selected":false},{"name":"甘肃","value":"89508","selected":false},{"name":"海南","value":"45236","selected":false},{"name":"宁夏","value":"37090","selected":false},{"name":"青海","value":"29997","selected":false},{"name":"西藏","value":"11105","selected":false}],"name":"2012","mapValueCalculation":"average"},{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1003746","selected":false},{"name":"江苏","value":"955269","selected":false},{"name":"山东","value":"882974","selected":false},{"name":"浙江","value":"606609","selected":false},{"name":"河南","value":"519212","selected":false},{"name":"河北","value":"456976","selected":false},{"name":"辽宁","value":"437216","selected":false},{"name":"四川","value":"424026","selected":false},{"name":"湖北","value":"398316","selected":false},{"name":"湖南","value":"395622","selected":false},{"name":"福建","value":"351347","selected":false},{"name":"上海","value":"348804","selected":false},{"name":"北京","value":"314871","selected":false},{"name":"安徽","value":"307416","selected":false},{"name":"内蒙古","value":"271788","selected":false},{"name":"陕西","value":"259078","selected":false},{"name":"黑龙江","value":"232237","selected":false},{"name":"广西","value":"232158","selected":false},{"name":"天津","value":"232031","selected":false},{"name":"江西","value":"231520","selected":false},{"name":"吉林","value":"209608","selected":false},{"name":"重庆","value":"204364","selected":false},{"name":"山西","value":"203485","selected":false},{"name":"云南","value":"189255","selected":false},{"name":"新疆","value":"134991","selected":false},{"name":"贵州","value":"129284","selected":false},{"name":"甘肃","value":"101208","selected":false},{"name":"海南","value":"50805","selected":false},{"name":"宁夏","value":"41417","selected":false},{"name":"青海","value":"33925","selected":false},{"name":"西藏","value":"13041","selected":false}],"name":"2013","mapValueCalculation":"average"},{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1103605","selected":false},{"name":"江苏","value":"1059587","selected":false},{"name":"山东","value":"967419","selected":false},{"name":"浙江","value":"653668","selected":false},{"name":"河南","value":"568786","selected":false},{"name":"河北","value":"478953","selected":false},{"name":"辽宁","value":"466018","selected":false},{"name":"四川","value":"464555","selected":false},{"name":"湖北","value":"445514","selected":false},{"name":"湖南","value":"440328","selected":false},{"name":"福建","value":"391609","selected":false},{"name":"上海","value":"383554","selected":false},{"name":"北京","value":"347249","selected":false},{"name":"安徽","value":"339401","selected":false},{"name":"内蒙古","value":"289274","selected":false},{"name":"陕西","value":"287978","selected":false},{"name":"天津","value":"255950","selected":false},{"name":"江西","value":"255724","selected":false},{"name":"广西","value":"255144","selected":false},{"name":"黑龙江","value":"244829","selected":false},{"name":"重庆","value":"232230","selected":false},{"name":"吉林","value":"224715","selected":false},{"name":"云南","value":"208612","selected":false},{"name":"山西","value":"207714","selected":false},{"name":"新疆","value":"150812","selected":false},{"name":"贵州","value":"150599","selected":false},{"name":"甘肃","value":"111273","selected":false},{"name":"海南","value":"56989","selected":false},{"name":"宁夏","value":"44802","selected":false},{"name":"青海","value":"37460","selected":false},{"name":"西藏","value":"14990","selected":false}],"name":"2014","mapValueCalculation":"average"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["2012","2013","2014"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"min":11105,"max":1103605},"title":{"text":"China GDP by Provice, 2012-2014","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="maps-with-timeline" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Maps with Timeline</h3>
<p>Put ‘Year’ as <code>z</code>, we will get a map with timeline.</p>
<pre class="r"><code>echartr(ChinaGDP, Prov, GDP, z=Year, type=&quot;map_china&quot;, subtype=&#39;average&#39;) %&gt;%
    setDataRange(splitNumber=0, 
                 color=c(&#39;red&#39;,&#39;orange&#39;,&#39;yellow&#39;,&#39;limegreen&#39;,&#39;green&#39;)) %&gt;%
    setTitle(&quot;China GDP by Provice, 2012-2014&quot;)</code></pre>
<div id="echarts-4813f707404009915d1efca4803b18cb5509203d" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-4813f707404009915d1efca4803b18cb5509203d">{"x":{"timeline":{"type":"number","data":[2012,2013,2014],"x":90,"x2":80,"y2":50},"options":[{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"904046","selected":false},{"name":"江苏","value":"856368","selected":false},{"name":"山东","value":"792289","selected":false},{"name":"浙江","value":"549154","selected":false},{"name":"河南","value":"468900","selected":false},{"name":"河北","value":"420990","selected":false},{"name":"辽宁","value":"393607","selected":false},{"name":"四川","value":"378183","selected":false},{"name":"湖北","value":"352482","selected":false},{"name":"湖南","value":"350958","selected":false},{"name":"上海","value":"319710","selected":false},{"name":"福建","value":"312107","selected":false},{"name":"北京","value":"283238","selected":false},{"name":"安徽","value":"272666","selected":false},{"name":"内蒙古","value":"251574","selected":false},{"name":"陕西","value":"228969","selected":false},{"name":"黑龙江","value":"216896","selected":false},{"name":"广西","value":"206497","selected":false},{"name":"江西","value":"205131","selected":false},{"name":"天津","value":"204259","selected":false},{"name":"山西","value":"191886","selected":false},{"name":"吉林","value":"189136","selected":false},{"name":"重庆","value":"180746","selected":false},{"name":"云南","value":"163318","selected":false},{"name":"新疆","value":"118896","selected":false},{"name":"贵州","value":"108550","selected":false},{"name":"甘肃","value":"89508","selected":false},{"name":"海南","value":"45236","selected":false},{"name":"宁夏","value":"37090","selected":false},{"name":"青海","value":"29997","selected":false},{"name":"西藏","value":"11105","selected":false}],"name":"GDP","mapValueCalculation":"average"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"min":11105,"max":1103605},"title":{"text":"China GDP by Provice, 2012-2014 ( = 2012)","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1003746","selected":false},{"name":"江苏","value":"955269","selected":false},{"name":"山东","value":"882974","selected":false},{"name":"浙江","value":"606609","selected":false},{"name":"河南","value":"519212","selected":false},{"name":"河北","value":"456976","selected":false},{"name":"辽宁","value":"437216","selected":false},{"name":"四川","value":"424026","selected":false},{"name":"湖北","value":"398316","selected":false},{"name":"湖南","value":"395622","selected":false},{"name":"福建","value":"351347","selected":false},{"name":"上海","value":"348804","selected":false},{"name":"北京","value":"314871","selected":false},{"name":"安徽","value":"307416","selected":false},{"name":"内蒙古","value":"271788","selected":false},{"name":"陕西","value":"259078","selected":false},{"name":"黑龙江","value":"232237","selected":false},{"name":"广西","value":"232158","selected":false},{"name":"天津","value":"232031","selected":false},{"name":"江西","value":"231520","selected":false},{"name":"吉林","value":"209608","selected":false},{"name":"重庆","value":"204364","selected":false},{"name":"山西","value":"203485","selected":false},{"name":"云南","value":"189255","selected":false},{"name":"新疆","value":"134991","selected":false},{"name":"贵州","value":"129284","selected":false},{"name":"甘肃","value":"101208","selected":false},{"name":"海南","value":"50805","selected":false},{"name":"宁夏","value":"41417","selected":false},{"name":"青海","value":"33925","selected":false},{"name":"西藏","value":"13041","selected":false}],"name":"GDP","mapValueCalculation":"average"}],"title":{"text":"China GDP by Provice, 2012-2014 ( = 2013)","subtext":"","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":"1103605","selected":false},{"name":"江苏","value":"1059587","selected":false},{"name":"山东","value":"967419","selected":false},{"name":"浙江","value":"653668","selected":false},{"name":"河南","value":"568786","selected":false},{"name":"河北","value":"478953","selected":false},{"name":"辽宁","value":"466018","selected":false},{"name":"四川","value":"464555","selected":false},{"name":"湖北","value":"445514","selected":false},{"name":"湖南","value":"440328","selected":false},{"name":"福建","value":"391609","selected":false},{"name":"上海","value":"383554","selected":false},{"name":"北京","value":"347249","selected":false},{"name":"安徽","value":"339401","selected":false},{"name":"内蒙古","value":"289274","selected":false},{"name":"陕西","value":"287978","selected":false},{"name":"天津","value":"255950","selected":false},{"name":"江西","value":"255724","selected":false},{"name":"广西","value":"255144","selected":false},{"name":"黑龙江","value":"244829","selected":false},{"name":"重庆","value":"232230","selected":false},{"name":"吉林","value":"224715","selected":false},{"name":"云南","value":"208612","selected":false},{"name":"山西","value":"207714","selected":false},{"name":"新疆","value":"150812","selected":false},{"name":"贵州","value":"150599","selected":false},{"name":"甘肃","value":"111273","selected":false},{"name":"海南","value":"56989","selected":false},{"name":"宁夏","value":"44802","selected":false},{"name":"青海","value":"37460","selected":false},{"name":"西藏","value":"14990","selected":false}],"name":"GDP","mapValueCalculation":"average"}],"title":{"text":"China GDP by Provice, 2012-2014 ( = 2014)","subtext":"","x":"center","y":"bottom","orient":"horizontal"}}]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="extensive-data-map-mode" class="section level2">
<h2><span class="header-section-number">3.4</span> Extensive Data Map Mode</h2>
<div id="multi-select-data-map" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Multi-select Data Map</h3>
<p>Just set <code>type</code> ‘map_world_multi’ or ‘map_china_multi’. The rest are similar to above.</p>
</div>
<div id="multiple-maps-1" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Multiple Maps</h3>
<p>Let’s tile the countries with top 10 GDP on the chart rather than showing them where they are.</p>
<pre class="r"><code>worldgdp &lt;- worldgdp[order(worldgdp$GDP, decreasing=TRUE),]
worldgdp10 &lt;- worldgdp[1:10, ]

echartr(worldgdp10, country, GDP, country, type=&#39;map_world&#39;, 
        subtype=worldgdp10$country) %&gt;% 
    setDataRange(color=c(
        &#39;red&#39;, &#39;orange&#39;, &#39;yellow&#39;, &#39;limegreen&#39;, &#39;green&#39;), pos=4) %&gt;%
    setSymbols(&#39;none&#39;)</code></pre>
<div id="echarts-2d427edb96b9016974377876277a6a976aa840fb" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-2d427edb96b9016974377876277a6a976aa840fb">{"x":{"series":[{"type":"map","roam":true,"mapType":"world|United States of America","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":"17418925","selected":false}],"name":"GDP","mapLocation":{"x":"6.875%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|China","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"China","value":"10380380","selected":false}],"name":"GDP","mapLocation":{"x":"29.375%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|Japan","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Japan","value":"4616335","selected":false}],"name":"GDP","mapLocation":{"x":"51.875%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|Germany","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Germany","value":"3859547","selected":false}],"name":"GDP","mapLocation":{"x":"74.375%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|United Kingdom","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United Kingdom","value":"2945146","selected":false}],"name":"GDP","mapLocation":{"x":"6.875%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|France","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"France","value":"2846889","selected":false}],"name":"GDP","mapLocation":{"x":"29.375%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|Brazil","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Brazil","value":"2353025","selected":false}],"name":"GDP","mapLocation":{"x":"51.875%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|Italy","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Italy","value":"2147952","selected":false}],"name":"GDP","mapLocation":{"x":"74.375%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|India","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"India","value":"2049501","selected":false}],"name":"GDP","mapLocation":{"x":"6.875%","y":"70.625%","width":"18.5%","height":"26%"}},{"type":"map","roam":true,"mapType":"world|Russia","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Russia","value":"1857461","selected":false}],"name":"GDP","mapLocation":{"x":"29.375%","y":"70.625%","width":"18.5%","height":"26%"}}],"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":false,"itemWidth":6,"selectedMode":true,"x":"right","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"min":1857461,"max":17418925,"itemGap":5,"splitNumber":5},"symbolList":["none","none","none","none","none","none","none","none","none","none"]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="futher-setup" class="section level1">
<h1><span class="header-section-number">4</span> Futher Setup</h1>
<p>Then you can configure the widgets, add markLines and/or markPoints, fortify the chart.</p>
<div id="addoverride-namemap" class="section level2">
<h2><span class="header-section-number">4.1</span> Add/Override nameMap</h2>
<p>Maybe you want to show the China province names in English. You can use <code>addNameMap</code> or <code>overrideNameMap</code> function.</p>
<p>There is a preinstalled dataset <strong>geoNameMap</strong> listing some Chinese and English geographic names. ‘LEVEL’ is a number ranging from 0 to 3: 0 reprensents country, 1 reprensents province, 2 reprensents city, and, 3 reprensents county. ‘FKEY’ is foreign key of the parent level. E.g., ‘China’ is in the record with ID 31, so we can get all the China provinces by <code>geoNameMap[geoNameMap$FKEY==31,]</code>.</p>
<pre class="r"><code>str(geoNameMap)</code></pre>
<pre><code>## &#39;data.frame&#39;:    3735 obs. of  5 variables:
##  $ ID   : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ EN   : chr  &quot;Afghanistan&quot; &quot;Angola&quot; &quot;Albania&quot; &quot;United Arab Emirates&quot; ...
##  $ CN   : chr  &quot;阿富汗&quot; &quot;安哥拉&quot; &quot;阿尔巴尼亚&quot; &quot;阿联酋&quot; ...
##  $ FKEY : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ LEVEL: int  0 0 0 0 0 0 0 0 0 0 ...</code></pre>
<p>So we prepare a two-column dictionary of the geographic names: Col 1 is the name in the source language, Col 2 is that in the target language.</p>
<pre class="r"><code>dict &lt;- geoNameMap[geoNameMap$FKEY==31, c(&quot;CN&quot;, &quot;EN&quot;)]
echartr(NULL, type=&quot;map_china_multi&quot;) %&gt;% addNameMap(dict, mode=&#39;override&#39;)</code></pre>
<div id="echarts-79616492093fe9adedb847ffe8b15e19de473afb" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-79616492093fe9adedb847ffe8b15e19de473afb">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"selectedMode":"multiple","nameMap":{"北京":"Beijing","天津":"Tianjin","河北":"Hebei","山西":"Shanxi","内蒙古":"Inner Mongolia","辽宁":"Liaoning","吉林":"Jilin","黑龙江":"Heilongjiang","上海":"Shanghai","江苏":"Jiangsu","浙江":"Zhejiang","安徽":"Anhui","福建":"Fujian","江西":"Jiangxi","山东":"Shandong","河南":"Henan","湖北":"Hubei","湖南":"Hunan","广东":"Guangdong","广西":"Guangxi","海南":"Hainan","重庆":"Chongqing","四川":"Sichuan","贵州":"Guizhou","云南":"Yunnan","西藏":"Xizang","陕西":"Shaanxi","甘肃":"Gansu","青海":"Qinghai","宁夏":"Ningxia","新疆":"Xinjiang","台湾":"Taiwan","香港":"Hong Kong","澳门":"Macau"}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="addoverride-markline" class="section level2">
<h2><span class="header-section-number">4.2</span> Add/Override markLine</h2>
<div id="addmarkline" class="section level3">
<h3><span class="header-section-number">4.2.1</span> <code>addMarkLine</code></h3>
<p>Based on a base map, we can add markLines using <code>addMarkLine</code> (or <code>addML</code> for short) or <code>overrideMarkLine</code>.</p>
<p>This instance makes use of another preinstalled dataset <strong>flight</strong>.</p>
<pre class="r"><code>str(flight)</code></pre>
<pre><code>## List of 2
##  $ route:&#39;data.frame&#39;:   150 obs. of  2 variables:
##   ..$ From: chr [1:150] &quot;北京&quot; &quot;北京&quot; &quot;北京&quot; &quot;北京&quot; ...
##   ..$ To  : chr [1:150] &quot;包头&quot; &quot;北海&quot; &quot;广州&quot; &quot;郑州&quot; ...
##  $ coord:&#39;data.frame&#39;:   114 obs. of  3 variables:
##   ..$ Place: chr [1:114] &quot;上海&quot; &quot;东莞&quot; &quot;东营&quot; &quot;中山&quot; ...
##   ..$ Lng  : num [1:114] 121 114 119 113 111 ...
##   ..$ Lat  : num [1:114] 31.3 22.9 37.6 22.5 36.2 ...</code></pre>
<pre class="r"><code>route &lt;- flight$route
names(route) &lt;- c(&#39;name1&#39;, &#39;name2&#39;)
coord &lt;- flight$coord
g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% 
    addML(series=&#39;北京&#39;, data=route[route$name1==&#39;北京&#39;,]) %&gt;% 
    addML(series=&#39;上海&#39;, data=route[route$name1==&#39;上海&#39;,]) %&gt;% 
    addML(series=&#39;广州&#39;, data=route[route$name1==&#39;广州&#39;,])
g</code></pre>
<div id="echarts-97f0af82e449125995377ecba4e09a5cce64cd7e" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-97f0af82e449125995377ecba4e09a5cce64cd7e">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]},{"name":"北京","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"上海","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"广州","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京","上海","广州"],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<p>It is equivalent to</p>
<pre class="r"><code>g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% 
    addML(series=c(&#39;北京&#39;, &#39;上海&#39;, &#39;广州), data=route) </code></pre>
</div>
<div id="addgeocoord" class="section level3">
<h3><span class="header-section-number">4.2.2</span> <code>addGeoCoord</code></h3>
<p>But the markLines are not shown yet. You have to append the longitudes and latitudes of the places ever appear in the markLine dataset using <code>addGeoCoord</code>.</p>
<pre class="r"><code>g %&gt;% addGeoCoord(coord)</code></pre>
<div id="echarts-76fff8e1f5e58c6d695c69aaf7d64e32869c9905" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-76fff8e1f5e58c6d695c69aaf7d64e32869c9905">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]}},{"name":"北京","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"上海","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"广州","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京","上海","广州"],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="addoverride-markpoint" class="section level2">
<h2><span class="header-section-number">4.3</span> Add/Override markPoint</h2>
<div id="addmarkpoint" class="section level3">
<h3><span class="header-section-number">4.3.1</span> <code>addMarkPoint</code></h3>
<p>Based on a base map, we can add markLines using <code>addMarkPoint</code> (or <code>addMP</code> for short) or <code>overrideMarkPoint</code>.</p>
<p>This instance makes use of another preinstalled dataset <strong>chinapm25</strong>.</p>
<pre class="r"><code>str(chinapm25)</code></pre>
<pre><code>## &#39;data.frame&#39;:    190 obs. of  4 variables:
##  $ City : chr  &quot;海门&quot; &quot;鄂尔多斯&quot; &quot;招远&quot; &quot;舟山&quot; ...
##  $ Value: num  9 12 12 12 14 15 16 18 18 19 ...
##  $ Lng  : num  121 110 120 122 124 ...
##  $ Lat  : num  31.9 39.6 37.4 30 47.3 ...</code></pre>
<pre class="r"><code>names(chinapm25) &lt;- c(&#39;name&#39;, &#39;value&#39;, &#39;lng&#39;, &#39;lat&#39;)

g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% 
    addMP(data=chinapm25[,c(&#39;name&#39;, &#39;value&#39;)], symbolSize=5, itemStyle=list(
        normal=list(borderColor=&#39;#87cefa&#39;, borderWidth=1,
                    label=list(show=FALSE)), 
        emphasis=list(borderColor=&#39;#1e90ff&#39;, borderWidth=5, 
                      label=list(show=FALSE))
    )) %&gt;%
    addMP(series=&#39;Top 5&#39;, 
          data=data.frame(
              name=c(&#39;廊坊&#39;, &#39;合肥&#39;, &#39;菏泽&#39;, &#39;武汉&#39;, &#39;大庆&#39;),
              value=c(193, 194, 229, 273, 279)), 
          symbol=&#39;emptyCircle&#39;,
          symbolSize=JS(&#39;function (v) {return 10 + v/100;}&#39;), 
          effect=list(show=TRUE)
    ) %&gt;%
    setDataRange(splitNumber=0, valueRange=c(0, 500), color=c(
        &#39;maroon&#39;, &#39;purple&#39;, &#39;red&#39;, &#39;orange&#39;, &#39;yellow&#39;, &#39;lightgreen&#39;))
g</code></pre>
<div id="echarts-6bdde20c278b0541477924ccfa49eca8ff2f2fe2" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-6bdde20c278b0541477924ccfa49eca8ff2f2fe2">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"markPoint":{"data":[{"name":"海门","value":"9"},{"name":"鄂尔多斯","value":"12"},{"name":"招远","value":"12"},{"name":"舟山","value":"12"},{"name":"齐齐哈尔","value":"14"},{"name":"盐城","value":"15"},{"name":"赤峰","value":"16"},{"name":"青岛","value":"18"},{"name":"乳山","value":"18"},{"name":"金昌","value":"19"},{"name":"泉州","value":"21"},{"name":"莱西","value":"21"},{"name":"日照","value":"21"},{"name":"胶南","value":"22"},{"name":"南通","value":"23"},{"name":"拉萨","value":"24"},{"name":"云浮","value":"24"},{"name":"梅州","value":"25"},{"name":"文登","value":"25"},{"name":"上海","value":"25"},{"name":"攀枝花","value":"25"},{"name":"威海","value":"25"},{"name":"承德","value":"25"},{"name":"厦门","value":"26"},{"name":"汕尾","value":"26"},{"name":"潮州","value":"26"},{"name":"丹东","value":"27"},{"name":"太仓","value":"27"},{"name":"曲靖","value":"27"},{"name":"烟台","value":"28"},{"name":"福州","value":"29"},{"name":"瓦房店","value":"30"},{"name":"即墨","value":"30"},{"name":"抚顺","value":"31"},{"name":"玉溪","value":"31"},{"name":"张家口","value":"31"},{"name":"阳泉","value":"31"},{"name":"莱州","value":"32"},{"name":"湖州","value":"32"},{"name":"汕头","value":"32"},{"name":"昆山","value":"33"},{"name":"宁波","value":"33"},{"name":"湛江","value":"33"},{"name":"揭阳","value":"34"},{"name":"荣成","value":"34"},{"name":"连云港","value":"35"},{"name":"葫芦岛","value":"35"},{"name":"常熟","value":"36"},{"name":"东莞","value":"36"},{"name":"河源","value":"36"},{"name":"淮安","value":"36"},{"name":"泰州","value":"36"},{"name":"南宁","value":"37"},{"name":"营口","value":"37"},{"name":"惠州","value":"37"},{"name":"江阴","value":"37"},{"name":"蓬莱","value":"37"},{"name":"韶关","value":"38"},{"name":"嘉峪关","value":"38"},{"name":"广州","value":"38"},{"name":"延安","value":"38"},{"name":"太原","value":"39"},{"name":"清远","value":"39"},{"name":"中山","value":"39"},{"name":"昆明","value":"39"},{"name":"寿光","value":"40"},{"name":"盘锦","value":"40"},{"name":"长治","value":"41"},{"name":"深圳","value":"41"},{"name":"珠海","value":"42"},{"name":"宿迁","value":"43"},{"name":"咸阳","value":"43"},{"name":"铜川","value":"44"},{"name":"平度","value":"44"},{"name":"佛山","value":"44"},{"name":"海口","value":"44"},{"name":"江门","value":"45"},{"name":"章丘","value":"45"},{"name":"肇庆","value":"46"},{"name":"大连","value":"47"},{"name":"临汾","value":"47"},{"name":"吴江","value":"47"},{"name":"石嘴山","value":"49"},{"name":"沈阳","value":"50"},{"name":"苏州","value":"50"},{"name":"茂名","value":"50"},{"name":"嘉兴","value":"51"},{"name":"长春","value":"51"},{"name":"胶州","value":"52"},{"name":"银川","value":"52"},{"name":"张家港","value":"52"},{"name":"三门峡","value":"53"},{"name":"锦州","value":"54"},{"name":"南昌","value":"54"},{"name":"柳州","value":"54"},{"name":"三亚","value":"54"},{"name":"自贡","value":"56"},{"name":"吉林","value":"56"},{"name":"阳江","value":"57"},{"name":"泸州","value":"57"},{"name":"西宁","value":"57"},{"name":"宜宾","value":"58"},{"name":"呼和浩特","value":"58"},{"name":"成都","value":"58"},{"name":"大同","value":"58"},{"name":"镇江","value":"59"},{"name":"桂林","value":"59"},{"name":"张家界","value":"59"},{"name":"宜兴","value":"59"},{"name":"北海","value":"60"},{"name":"西安","value":"61"},{"name":"金坛","value":"62"},{"name":"东营","value":"62"},{"name":"牡丹江","value":"63"},{"name":"遵义","value":"63"},{"name":"绍兴","value":"63"},{"name":"扬州","value":"64"},{"name":"常州","value":"64"},{"name":"潍坊","value":"65"},{"name":"重庆","value":"66"},{"name":"台州","value":"67"},{"name":"南京","value":"67"},{"name":"滨州","value":"70"},{"name":"贵阳","value":"71"},{"name":"无锡","value":"71"},{"name":"本溪","value":"71"},{"name":"克拉玛依","value":"72"},{"name":"渭南","value":"72"},{"name":"马鞍山","value":"72"},{"name":"宝鸡","value":"72"},{"name":"焦作","value":"75"},{"name":"句容","value":"75"},{"name":"北京","value":"79"},{"name":"徐州","value":"79"},{"name":"衡水","value":"80"},{"name":"包头","value":"80"},{"name":"绵阳","value":"80"},{"name":"乌鲁木齐","value":"84"},{"name":"枣庄","value":"84"},{"name":"杭州","value":"84"},{"name":"淄博","value":"85"},{"name":"鞍山","value":"86"},{"name":"溧阳","value":"86"},{"name":"库尔勒","value":"86"},{"name":"安阳","value":"90"},{"name":"开封","value":"90"},{"name":"济南","value":"92"},{"name":"德阳","value":"93"},{"name":"温州","value":"95"},{"name":"九江","value":"96"},{"name":"邯郸","value":"98"},{"name":"临安","value":"99"},{"name":"兰州","value":"99"},{"name":"沧州","value":"100"},{"name":"临沂","value":"103"},{"name":"南充","value":"104"},{"name":"天津","value":"105"},{"name":"富阳","value":"106"},{"name":"泰安","value":"112"},{"name":"诸暨","value":"112"},{"name":"郑州","value":"113"},{"name":"哈尔滨","value":"114"},{"name":"聊城","value":"116"},{"name":"芜湖","value":"117"},{"name":"唐山","value":"119"},{"name":"平顶山","value":"119"},{"name":"邢台","value":"119"},{"name":"德州","value":"120"},{"name":"济宁","value":"120"},{"name":"荆州","value":"127"},{"name":"宜昌","value":"130"},{"name":"义乌","value":"132"},{"name":"丽水","value":"133"},{"name":"洛阳","value":"134"},{"name":"秦皇岛","value":"136"},{"name":"株洲","value":"143"},{"name":"石家庄","value":"147"},{"name":"莱芜","value":"148"},{"name":"常德","value":"152"},{"name":"保定","value":"153"},{"name":"湘潭","value":"154"},{"name":"金华","value":"157"},{"name":"岳阳","value":"169"},{"name":"长沙","value":"175"},{"name":"衢州","value":"177"},{"name":"廊坊","value":"193"},{"name":"菏泽","value":"194"},{"name":"合肥","value":"229"},{"name":"武汉","value":"273"},{"name":"大庆","value":"279"}],"clickable":true,"symbol":"pin","symbolSize":5,"large":false,"effect":{"show":false},"itemStyle":{"normal":{"borderColor":"#87cefa","borderWidth":1,"label":{"show":false}},"emphasis":{"borderColor":"#1e90ff","borderWidth":5,"label":{"show":false}}}}},{"name":"Top 5","type":"map","data":[["-"]],"markPoint":{"data":[{"name":"廊坊","value":"193"},{"name":"合肥","value":"194"},{"name":"菏泽","value":"229"},{"name":"武汉","value":"273"},{"name":"大庆","value":"279"}],"clickable":true,"symbol":"emptyCircle","symbolSize":"function (v) {return 10 + v/100;}","large":false,"effect":{"show":true}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["Top 5"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["maroon","purple","red","orange","yellow","lightgreen"],"min":0,"max":500}},"evals":["series.1.markPoint.symbolSize"],"jsHooks":[]}</script>
</div>
<div id="addgeocoord-1" class="section level3">
<h3><span class="header-section-number">4.3.2</span> <code>addGeoCoord</code></h3>
<div id="pre-installed-geocoord-dataset" class="section level4">
<h4><span class="header-section-number">4.3.2.1</span> Pre-installed geoCoord dataset</h4>
<p>Although <code>recharts</code> can recognize most of the cities, there still might be points missing coordinates. Again, we need to define the geoCoord using <code>addGeoCoord</code>.</p>
<pre class="r"><code>g %&gt;% addGeoCoord(chinapm25[,c(&#39;name&#39;, &#39;lng&#39;, &#39;lat&#39;)]) %&gt;% 
    setTitle(&#39;PM2.5 in China Cities&#39;, &#39;Fictious Data&#39;)</code></pre>
<div id="echarts-990721645e92ea8514f19be46cca1a72966e2a51" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-990721645e92ea8514f19be46cca1a72966e2a51">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"markPoint":{"data":[{"name":"海门","value":"9"},{"name":"鄂尔多斯","value":"12"},{"name":"招远","value":"12"},{"name":"舟山","value":"12"},{"name":"齐齐哈尔","value":"14"},{"name":"盐城","value":"15"},{"name":"赤峰","value":"16"},{"name":"青岛","value":"18"},{"name":"乳山","value":"18"},{"name":"金昌","value":"19"},{"name":"泉州","value":"21"},{"name":"莱西","value":"21"},{"name":"日照","value":"21"},{"name":"胶南","value":"22"},{"name":"南通","value":"23"},{"name":"拉萨","value":"24"},{"name":"云浮","value":"24"},{"name":"梅州","value":"25"},{"name":"文登","value":"25"},{"name":"上海","value":"25"},{"name":"攀枝花","value":"25"},{"name":"威海","value":"25"},{"name":"承德","value":"25"},{"name":"厦门","value":"26"},{"name":"汕尾","value":"26"},{"name":"潮州","value":"26"},{"name":"丹东","value":"27"},{"name":"太仓","value":"27"},{"name":"曲靖","value":"27"},{"name":"烟台","value":"28"},{"name":"福州","value":"29"},{"name":"瓦房店","value":"30"},{"name":"即墨","value":"30"},{"name":"抚顺","value":"31"},{"name":"玉溪","value":"31"},{"name":"张家口","value":"31"},{"name":"阳泉","value":"31"},{"name":"莱州","value":"32"},{"name":"湖州","value":"32"},{"name":"汕头","value":"32"},{"name":"昆山","value":"33"},{"name":"宁波","value":"33"},{"name":"湛江","value":"33"},{"name":"揭阳","value":"34"},{"name":"荣成","value":"34"},{"name":"连云港","value":"35"},{"name":"葫芦岛","value":"35"},{"name":"常熟","value":"36"},{"name":"东莞","value":"36"},{"name":"河源","value":"36"},{"name":"淮安","value":"36"},{"name":"泰州","value":"36"},{"name":"南宁","value":"37"},{"name":"营口","value":"37"},{"name":"惠州","value":"37"},{"name":"江阴","value":"37"},{"name":"蓬莱","value":"37"},{"name":"韶关","value":"38"},{"name":"嘉峪关","value":"38"},{"name":"广州","value":"38"},{"name":"延安","value":"38"},{"name":"太原","value":"39"},{"name":"清远","value":"39"},{"name":"中山","value":"39"},{"name":"昆明","value":"39"},{"name":"寿光","value":"40"},{"name":"盘锦","value":"40"},{"name":"长治","value":"41"},{"name":"深圳","value":"41"},{"name":"珠海","value":"42"},{"name":"宿迁","value":"43"},{"name":"咸阳","value":"43"},{"name":"铜川","value":"44"},{"name":"平度","value":"44"},{"name":"佛山","value":"44"},{"name":"海口","value":"44"},{"name":"江门","value":"45"},{"name":"章丘","value":"45"},{"name":"肇庆","value":"46"},{"name":"大连","value":"47"},{"name":"临汾","value":"47"},{"name":"吴江","value":"47"},{"name":"石嘴山","value":"49"},{"name":"沈阳","value":"50"},{"name":"苏州","value":"50"},{"name":"茂名","value":"50"},{"name":"嘉兴","value":"51"},{"name":"长春","value":"51"},{"name":"胶州","value":"52"},{"name":"银川","value":"52"},{"name":"张家港","value":"52"},{"name":"三门峡","value":"53"},{"name":"锦州","value":"54"},{"name":"南昌","value":"54"},{"name":"柳州","value":"54"},{"name":"三亚","value":"54"},{"name":"自贡","value":"56"},{"name":"吉林","value":"56"},{"name":"阳江","value":"57"},{"name":"泸州","value":"57"},{"name":"西宁","value":"57"},{"name":"宜宾","value":"58"},{"name":"呼和浩特","value":"58"},{"name":"成都","value":"58"},{"name":"大同","value":"58"},{"name":"镇江","value":"59"},{"name":"桂林","value":"59"},{"name":"张家界","value":"59"},{"name":"宜兴","value":"59"},{"name":"北海","value":"60"},{"name":"西安","value":"61"},{"name":"金坛","value":"62"},{"name":"东营","value":"62"},{"name":"牡丹江","value":"63"},{"name":"遵义","value":"63"},{"name":"绍兴","value":"63"},{"name":"扬州","value":"64"},{"name":"常州","value":"64"},{"name":"潍坊","value":"65"},{"name":"重庆","value":"66"},{"name":"台州","value":"67"},{"name":"南京","value":"67"},{"name":"滨州","value":"70"},{"name":"贵阳","value":"71"},{"name":"无锡","value":"71"},{"name":"本溪","value":"71"},{"name":"克拉玛依","value":"72"},{"name":"渭南","value":"72"},{"name":"马鞍山","value":"72"},{"name":"宝鸡","value":"72"},{"name":"焦作","value":"75"},{"name":"句容","value":"75"},{"name":"北京","value":"79"},{"name":"徐州","value":"79"},{"name":"衡水","value":"80"},{"name":"包头","value":"80"},{"name":"绵阳","value":"80"},{"name":"乌鲁木齐","value":"84"},{"name":"枣庄","value":"84"},{"name":"杭州","value":"84"},{"name":"淄博","value":"85"},{"name":"鞍山","value":"86"},{"name":"溧阳","value":"86"},{"name":"库尔勒","value":"86"},{"name":"安阳","value":"90"},{"name":"开封","value":"90"},{"name":"济南","value":"92"},{"name":"德阳","value":"93"},{"name":"温州","value":"95"},{"name":"九江","value":"96"},{"name":"邯郸","value":"98"},{"name":"临安","value":"99"},{"name":"兰州","value":"99"},{"name":"沧州","value":"100"},{"name":"临沂","value":"103"},{"name":"南充","value":"104"},{"name":"天津","value":"105"},{"name":"富阳","value":"106"},{"name":"泰安","value":"112"},{"name":"诸暨","value":"112"},{"name":"郑州","value":"113"},{"name":"哈尔滨","value":"114"},{"name":"聊城","value":"116"},{"name":"芜湖","value":"117"},{"name":"唐山","value":"119"},{"name":"平顶山","value":"119"},{"name":"邢台","value":"119"},{"name":"德州","value":"120"},{"name":"济宁","value":"120"},{"name":"荆州","value":"127"},{"name":"宜昌","value":"130"},{"name":"义乌","value":"132"},{"name":"丽水","value":"133"},{"name":"洛阳","value":"134"},{"name":"秦皇岛","value":"136"},{"name":"株洲","value":"143"},{"name":"石家庄","value":"147"},{"name":"莱芜","value":"148"},{"name":"常德","value":"152"},{"name":"保定","value":"153"},{"name":"湘潭","value":"154"},{"name":"金华","value":"157"},{"name":"岳阳","value":"169"},{"name":"长沙","value":"175"},{"name":"衢州","value":"177"},{"name":"廊坊","value":"193"},{"name":"菏泽","value":"194"},{"name":"合肥","value":"229"},{"name":"武汉","value":"273"},{"name":"大庆","value":"279"}],"clickable":true,"symbol":"pin","symbolSize":5,"large":false,"effect":{"show":false},"itemStyle":{"normal":{"borderColor":"#87cefa","borderWidth":1,"label":{"show":false}},"emphasis":{"borderColor":"#1e90ff","borderWidth":5,"label":{"show":false}}}},"geoCoord":{"海门":[121.15,31.89],"鄂尔多斯":[109.78133,39.60827],"招远":[120.38,37.35],"舟山":[122.20722,29.9853],"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"赤峰":[118.87,42.28],"青岛":[120.33,36.07],"乳山":[121.52,36.89],"金昌":[102.18804,38.52009],"泉州":[118.58,24.93],"莱西":[120.53,36.86],"日照":[119.46,35.42],"胶南":[119.97,35.88],"南通":[121.05,32.08],"拉萨":[91.11,29.97],"云浮":[112.02,22.93],"梅州":[116.1,24.55],"文登":[122.05,37.2],"上海":[121.48,31.22],"攀枝花":[101.71864,26.58235],"威海":[122.1,37.5],"承德":[117.93,40.97],"厦门":[118.1,24.46],"汕尾":[115.37528,22.78621],"潮州":[116.63,23.68],"丹东":[124.37,40.13],"太仓":[121.1,31.45],"曲靖":[103.79,25.51],"烟台":[121.39,37.52],"福州":[119.3,26.08],"瓦房店":[121.9796,39.62711],"即墨":[120.45,36.38],"抚顺":[123.97,41.97],"玉溪":[102.52,24.35],"张家口":[114.87,40.82],"阳泉":[113.57,37.85],"莱州":[119.94233,37.17702],"湖州":[120.1,30.86],"汕头":[116.69,23.39],"昆山":[120.95,31.39],"宁波":[121.56,29.86],"湛江":[110.35938,21.27071],"揭阳":[116.35,23.55],"荣成":[122.41,37.16],"连云港":[119.16,34.59],"葫芦岛":[120.83693,40.71105],"常熟":[120.74,31.64],"东莞":[113.75,23.04],"河源":[114.68,23.73],"淮安":[119.15,33.5],"泰州":[119.9,32.49],"南宁":[108.33,22.84],"营口":[122.18,40.65],"惠州":[114.4,23.09],"江阴":[120.26,31.91],"蓬莱":[120.75,37.8],"韶关":[113.62,24.84],"嘉峪关":[98.28915,39.77313],"广州":[113.23,23.16],"延安":[109.47,36.6],"太原":[112.53,37.87],"清远":[113.01,23.7],"中山":[113.38,22.52],"昆明":[102.73,25.04],"寿光":[118.73,36.86],"盘锦":[122.07071,41.12],"长治":[113.08,36.18],"深圳":[114.07,22.62],"珠海":[113.52,22.3],"宿迁":[118.3,33.96],"咸阳":[108.72,34.36],"铜川":[109.11,35.09],"平度":[119.97,36.77],"佛山":[113.11,23.05],"海口":[110.35,20.02],"江门":[113.06,22.61],"章丘":[117.53,36.72],"肇庆":[112.44,23.05],"大连":[121.62,38.92],"临汾":[111.5,36.08],"吴江":[120.63,31.16],"石嘴山":[106.39,39.04],"沈阳":[123.38,41.8],"苏州":[120.62,31.32],"茂名":[110.88,21.68],"嘉兴":[120.76,30.77],"长春":[125.35,43.88],"胶州":[120.03336,36.26462],"银川":[106.27,38.47],"张家港":[120.55582,31.87543],"三门峡":[111.19,34.76],"锦州":[121.15,41.13],"南昌":[115.89,28.68],"柳州":[109.4,24.33],"三亚":[109.51191,18.25285],"自贡":[104.77844,29.33903],"吉林":[126.57,43.87],"阳江":[111.95,21.85],"泸州":[105.39,28.91],"西宁":[101.74,36.56],"宜宾":[104.56,29.77],"呼和浩特":[111.65,40.82],"成都":[104.06,30.67],"大同":[113.3,40.12],"镇江":[119.44,32.2],"桂林":[110.28,25.29],"张家界":[110.47919,29.1171],"宜兴":[119.82,31.36],"北海":[109.12,21.49],"西安":[108.95,34.27],"金坛":[119.56,31.74],"东营":[118.49,37.46],"牡丹江":[129.58,44.6],"遵义":[106.9,27.7],"绍兴":[120.58,30.01],"扬州":[119.42,32.39],"常州":[119.95,31.79],"潍坊":[119.1,36.62],"重庆":[106.54,29.59],"台州":[121.42076,28.65639],"南京":[118.78,32.04],"滨州":[118.03,37.36],"贵阳":[106.71,26.57],"无锡":[120.29,31.59],"本溪":[123.73,41.3],"克拉玛依":[84.77,45.59],"渭南":[109.5,34.52],"马鞍山":[118.48,31.56],"宝鸡":[107.15,34.38],"焦作":[113.21,35.24],"句容":[119.16,31.95],"北京":[116.46,39.92],"徐州":[117.2,34.26],"衡水":[115.72,37.72],"包头":[110,40.58],"绵阳":[104.73,31.48],"乌鲁木齐":[87.68,43.77],"枣庄":[117.57,34.86],"杭州":[120.19,30.26],"淄博":[118.05,36.78],"鞍山":[122.85,41.12],"溧阳":[119.48,31.43],"库尔勒":[86.06,41.68],"安阳":[114.35,36.1],"开封":[114.35,34.79],"济南":[117,36.65],"德阳":[104.37,31.13],"温州":[120.65,28.01],"九江":[115.97,29.71],"邯郸":[114.47,36.6],"临安":[119.72,30.23],"兰州":[103.73,36.03],"沧州":[116.83,38.33],"临沂":[118.35,35.05],"南充":[106.1107,30.83779],"天津":[117.2,39.13],"富阳":[119.95,30.07],"泰安":[117.13,36.18],"诸暨":[120.23,29.71],"郑州":[113.65,34.76],"哈尔滨":[126.63,45.75],"聊城":[115.97,36.45],"芜湖":[118.38,31.33],"唐山":[118.02,39.63],"平顶山":[113.29,33.75],"邢台":[114.48,37.05],"德州":[116.29,37.45],"济宁":[116.59,35.38],"荆州":[112.23974,30.33516],"宜昌":[111.3,30.7],"义乌":[120.06,29.32],"丽水":[119.92,28.45],"洛阳":[112.44,34.7],"秦皇岛":[119.57,39.95],"株洲":[113.16,27.83],"石家庄":[114.48,38.03],"莱芜":[117.67,36.19],"常德":[111.69,29.05],"保定":[115.48,38.85],"湘潭":[112.91,27.87],"金华":[119.64,29.12],"岳阳":[113.09,29.37],"长沙":[113,28.21],"衢州":[118.88,28.97],"廊坊":[116.7,39.53],"菏泽":[115.48066,35.23375],"合肥":[117.27,31.86],"武汉":[114.31,30.52],"大庆":[125.03,46.58]}},{"name":"Top 5","type":"map","data":[["-"]],"markPoint":{"data":[{"name":"廊坊","value":"193"},{"name":"合肥","value":"194"},{"name":"菏泽","value":"229"},{"name":"武汉","value":"273"},{"name":"大庆","value":"279"}],"clickable":true,"symbol":"emptyCircle","symbolSize":"function (v) {return 10 + v/100;}","large":false,"effect":{"show":true}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["Top 5"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["maroon","purple","red","orange","yellow","lightgreen"],"min":0,"max":500},"title":{"text":"PM2.5 in China Cities","subtext":"Fictious Data","x":"center","y":"bottom","orient":"horizontal"}},"evals":["series.1.markPoint.symbolSize"],"jsHooks":[]}</script>
</div>
<div id="query-the-coordinates" class="section level4">
<h4><span class="header-section-number">4.3.2.2</span> Query the Coordinates</h4>
<p>What if I don’t know the coordinates of the places? You need <code>geocode</code> (forked from <a href="github.com/caijun/geoChina">geoChina</a>), which queries info from Google (so first you should be able to visit Google) or Baidu (in this way you need to provide Baidu api key).</p>
<pre class="r"><code>geocode(c(&#39;北京&#39;, &#39;上海&#39;), api=&#39;google&#39;)</code></pre>
<pre><code>##        lat      lng
## 1 39.90281 116.4012
## 2 31.23236 121.4692</code></pre>
<p>or <code>geocode(c('北京', '上海'), api='baidu', key='xxxxx')</code>.</p>
<p>These are coordinates under WGS-84 system. If you want to apply them in Echarts, you need to convert them to BD-09 system. You can use <code>convWGS2BD</code> function or use <code>geocode</code> with <code>ocs</code>=‘BD-09’ to do that.</p>
<pre class="r"><code>convWGS2BD(geocode(c(&#39;北京&#39;, &#39;上海&#39;), api=&#39;google&#39;))</code></pre>
<pre><code>##        lat      lng
## 1 39.91053 116.4138
## 2 31.23636 121.4803</code></pre>
<p>or <code>geocode(c('北京', '上海'), api='google', ocs='BD-09')</code></p>
</div>
</div>
</div>
<div id="addmarkline-and-addmarkpoint" class="section level2">
<h2><span class="header-section-number">4.4</span> <code>addMarkLine</code> And <code>addMarkPoint</code></h2>
<p>In addition to the <code>addMarkLine</code> example, we <code>addMarkPOint</code> to yield the <a href="http://echarts.baidu.com/echarts2/doc/example/map11.html">Fictious Baidu Migration</a> example.</p>
<pre class="r"><code>route &lt;- flight$route
names(route) &lt;- c(&#39;name1&#39;, &#39;name2&#39;)
coord &lt;- flight$coord
target &lt;- data.frame(
    name1=c(rep(&#39;北京&#39;, 10), rep(&#39;上海&#39;, 10), rep(&#39;广州&#39;, 10)),
    name2=c(
        &quot;上海&quot;,&quot;广州&quot;,&quot;大连&quot;,&quot;南宁&quot;,&quot;南昌&quot;,&quot;拉萨&quot;,&quot;长春&quot;,&quot;包头&quot;,&quot;重庆&quot;,&quot;常州&quot;,
        &quot;包头&quot;,&quot;昆明&quot;,&quot;广州&quot;,&quot;郑州&quot;,&quot;长春&quot;,&quot;重庆&quot;,&quot;长沙&quot;,&quot;北京&quot;,&quot;丹东&quot;,&quot;大连&quot;,
        &quot;福州&quot;,&quot;太原&quot;,&quot;长春&quot;,&quot;重庆&quot;,&quot;西安&quot;,&quot;成都&quot;,&quot;常州&quot;,&quot;北京&quot;,&quot;北海&quot;,&quot;海口&quot;),
    value=c(95,90,80,70,60,50,40,30,20,10,95,90,80,70,60,50,40,30,20,10,95,90,
            80,70,60,50,40,30,20,10))
# series column mapping series of addML/addMP
target$series &lt;- paste0(target$name1, &#39;Top10&#39;)

## apply addGeoCoord, and add markLines without values
g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% addGeoCoord(coord) %&gt;%
    addML(series=1, data=route, symbol=c(&#39;none&#39;, &#39;circle&#39;), symbolSize=1, 
          smooth=TRUE, itemStyle=list(normal=list(
              color=&#39;#fff&#39;, borderWidth=1, borderColor=&#39;rgba(30,144,255,0.5)&#39;)))

## by now, we have to manually edit the core chart style. 
## Will be replaced by core chart editing functions
g$x$series[[1]]$itemStyle$normal &lt;- list(
    borderColor=&#39;rgba(100,149,237,1)&#39;, borderWidth=0.5, areaStyle=list(
        color=&#39;#1b1b1b&#39;))
g$x$series[[1]]$hoverable &lt;- FALSE
g</code></pre>
<div id="echarts-cf3268cb762ed2703c79b55f2456b2a0066c55b8" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-cf3268cb762ed2703c79b55f2456b2a0066c55b8">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>## add markLines with values
line.effect &lt;- list(
    show=TRUE, scaleSize=1, period=30, color=&#39;#fff&#39;, shadowBlur=10)
line.style &lt;- list(normal=list(
    borderWidth=1, lineStyle=list(type=&#39;solid&#39;, shadowBlur=10)))
g1 &lt;- g %&gt;% 
    addML(series=c(&#39;北京Top10&#39;, &#39;上海Top10&#39;, &#39;广州Top10&#39;), data=target, 
          smooth=TRUE, effect=line.effect, itemStyle=line.style)
g1</code></pre>
<div id="echarts-6ce205befcdcf6f0fa96cc39378c832c1b95d49a" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-6ce205befcdcf6f0fa96cc39378c832c1b95d49a">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false},{"name":"北京Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京","value":95},{"name":"上海"}],[{"name":"北京","value":90},{"name":"广州"}],[{"name":"北京","value":80},{"name":"大连"}],[{"name":"北京","value":70},{"name":"南宁"}],[{"name":"北京","value":60},{"name":"南昌"}],[{"name":"北京","value":50},{"name":"拉萨"}],[{"name":"北京","value":40},{"name":"长春"}],[{"name":"北京","value":30},{"name":"包头"}],[{"name":"北京","value":20},{"name":"重庆"}],[{"name":"北京","value":10},{"name":"常州"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china"},{"name":"上海Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海","value":95},{"name":"包头"}],[{"name":"上海","value":90},{"name":"昆明"}],[{"name":"上海","value":80},{"name":"广州"}],[{"name":"上海","value":70},{"name":"郑州"}],[{"name":"上海","value":60},{"name":"长春"}],[{"name":"上海","value":50},{"name":"重庆"}],[{"name":"上海","value":40},{"name":"长沙"}],[{"name":"上海","value":30},{"name":"北京"}],[{"name":"上海","value":20},{"name":"丹东"}],[{"name":"上海","value":10},{"name":"大连"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china"},{"name":"广州Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州","value":95},{"name":"福州"}],[{"name":"广州","value":90},{"name":"太原"}],[{"name":"广州","value":80},{"name":"长春"}],[{"name":"广州","value":70},{"name":"重庆"}],[{"name":"广州","value":60},{"name":"西安"}],[{"name":"广州","value":50},{"name":"成都"}],[{"name":"广州","value":40},{"name":"常州"}],[{"name":"广州","value":30},{"name":"北京"}],[{"name":"广州","value":20},{"name":"北海"}],[{"name":"广州","value":10},{"name":"海口"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京Top10","上海Top10","广州Top10"],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>## add markPoints
## series better be 2, 3, 4 rather than the series names
jsSymbolSize &lt;- JS(&#39;function (v) {return 10+v/10;}&#39;)
mp.style &lt;- list(normal=list(label=list(show=FALSE)), 
                 emphasis=list(label=list(position=&#39;top&#39;)))
g2 &lt;- g1 %&gt;%
    addMP(series=2:4, data=target[,c(&quot;name2&quot;, &quot;value&quot;, &quot;series&quot;)],
          effect=list(show=TRUE), symbolSize=jsSymbolSize, 
          itmeStyle=mp.style) 
g2</code></pre>
<div id="echarts-6dd5923d7ddbd35d45316e8edfc5fcbc1b04b98b" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-6dd5923d7ddbd35d45316e8edfc5fcbc1b04b98b">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false},{"name":"北京Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京","value":95},{"name":"上海"}],[{"name":"北京","value":90},{"name":"广州"}],[{"name":"北京","value":80},{"name":"大连"}],[{"name":"北京","value":70},{"name":"南宁"}],[{"name":"北京","value":60},{"name":"南昌"}],[{"name":"北京","value":50},{"name":"拉萨"}],[{"name":"北京","value":40},{"name":"长春"}],[{"name":"北京","value":30},{"name":"包头"}],[{"name":"北京","value":20},{"name":"重庆"}],[{"name":"北京","value":10},{"name":"常州"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"上海","value":"95"},{"name":"广州","value":"90"},{"name":"大连","value":"80"},{"name":"南宁","value":"70"},{"name":"南昌","value":"60"},{"name":"拉萨","value":"50"},{"name":"长春","value":"40"},{"name":"包头","value":"30"},{"name":"重庆","value":"20"},{"name":"常州","value":"10"}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"上海Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海","value":95},{"name":"包头"}],[{"name":"上海","value":90},{"name":"昆明"}],[{"name":"上海","value":80},{"name":"广州"}],[{"name":"上海","value":70},{"name":"郑州"}],[{"name":"上海","value":60},{"name":"长春"}],[{"name":"上海","value":50},{"name":"重庆"}],[{"name":"上海","value":40},{"name":"长沙"}],[{"name":"上海","value":30},{"name":"北京"}],[{"name":"上海","value":20},{"name":"丹东"}],[{"name":"上海","value":10},{"name":"大连"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"包头","value":"95"},{"name":"昆明","value":"90"},{"name":"广州","value":"80"},{"name":"郑州","value":"70"},{"name":"长春","value":"60"},{"name":"重庆","value":"50"},{"name":"长沙","value":"40"},{"name":"北京","value":"30"},{"name":"丹东","value":"20"},{"name":"大连","value":"10"}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"广州Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州","value":95},{"name":"福州"}],[{"name":"广州","value":90},{"name":"太原"}],[{"name":"广州","value":80},{"name":"长春"}],[{"name":"广州","value":70},{"name":"重庆"}],[{"name":"广州","value":60},{"name":"西安"}],[{"name":"广州","value":50},{"name":"成都"}],[{"name":"广州","value":40},{"name":"常州"}],[{"name":"广州","value":30},{"name":"北京"}],[{"name":"广州","value":20},{"name":"北海"}],[{"name":"广州","value":10},{"name":"海口"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"福州","value":"95"},{"name":"太原","value":"90"},{"name":"长春","value":"80"},{"name":"重庆","value":"70"},{"name":"西安","value":"60"},{"name":"成都","value":"50"},{"name":"常州","value":"40"},{"name":"北京","value":"30"},{"name":"北海","value":"20"},{"name":"海口","value":"10"}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京Top10","上海Top10","广州Top10"],"x":"left","y":"top","orient":"horizontal"}},"evals":["series.1.markPoint.symbolSize","series.2.markPoint.symbolSize","series.3.markPoint.symbolSize"],"jsHooks":[]}</script>
<pre class="r"><code>## setDataRange
g3 &lt;- g2 %&gt;%
    setDataRange(
        color=c(&#39;#ff3333&#39;, &#39;orange&#39;, &#39;yellow&#39;,&#39;limegreen&#39;,&#39;aquamarine&#39;),
        valueRange=c(0, 100), textStyle=list(color=&#39;#fff&#39;),
        splitNumber=0)

## setTheme
g3 &lt;- g3 %&gt;% setLegend(pos=10, selected=&#39;上海Top10&#39;, textStyle=list(color=&#39;#fff&#39;)) %&gt;%
    setTheme(palette=c(&#39;gold&#39;,&#39;aquamarine&#39;,&#39;limegreen&#39;), bgColor=&#39;#1b1b1b&#39;) %&gt;%
    setToolbox(pos=3) %&gt;% 
    setTitle(&#39;Baidu Migration&#39;, &#39;Fictious Data&#39;, pos=12, 
             textStyle=list(color=&#39;white&#39;))
g3</code></pre>
<div id="echarts-756584e9a6169cc900819be3261a5fe1d8837ac2" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-756584e9a6169cc900819be3261a5fe1d8837ac2">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false},{"name":"北京Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京","value":95},{"name":"上海"}],[{"name":"北京","value":90},{"name":"广州"}],[{"name":"北京","value":80},{"name":"大连"}],[{"name":"北京","value":70},{"name":"南宁"}],[{"name":"北京","value":60},{"name":"南昌"}],[{"name":"北京","value":50},{"name":"拉萨"}],[{"name":"北京","value":40},{"name":"长春"}],[{"name":"北京","value":30},{"name":"包头"}],[{"name":"北京","value":20},{"name":"重庆"}],[{"name":"北京","value":10},{"name":"常州"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"上海","value":"95"},{"name":"广州","value":"90"},{"name":"大连","value":"80"},{"name":"南宁","value":"70"},{"name":"南昌","value":"60"},{"name":"拉萨","value":"50"},{"name":"长春","value":"40"},{"name":"包头","value":"30"},{"name":"重庆","value":"20"},{"name":"常州","value":"10"}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"上海Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海","value":95},{"name":"包头"}],[{"name":"上海","value":90},{"name":"昆明"}],[{"name":"上海","value":80},{"name":"广州"}],[{"name":"上海","value":70},{"name":"郑州"}],[{"name":"上海","value":60},{"name":"长春"}],[{"name":"上海","value":50},{"name":"重庆"}],[{"name":"上海","value":40},{"name":"长沙"}],[{"name":"上海","value":30},{"name":"北京"}],[{"name":"上海","value":20},{"name":"丹东"}],[{"name":"上海","value":10},{"name":"大连"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"包头","value":"95"},{"name":"昆明","value":"90"},{"name":"广州","value":"80"},{"name":"郑州","value":"70"},{"name":"长春","value":"60"},{"name":"重庆","value":"50"},{"name":"长沙","value":"40"},{"name":"北京","value":"30"},{"name":"丹东","value":"20"},{"name":"大连","value":"10"}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"广州Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州","value":95},{"name":"福州"}],[{"name":"广州","value":90},{"name":"太原"}],[{"name":"广州","value":80},{"name":"长春"}],[{"name":"广州","value":70},{"name":"重庆"}],[{"name":"广州","value":60},{"name":"西安"}],[{"name":"广州","value":50},{"name":"成都"}],[{"name":"广州","value":40},{"name":"常州"}],[{"name":"广州","value":30},{"name":"北京"}],[{"name":"广州","value":20},{"name":"北海"}],[{"name":"广州","value":10},{"name":"海口"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"福州","value":"95"},{"name":"太原","value":"90"},{"name":"长春","value":"80"},{"name":"重庆","value":"70"},{"name":"西安","value":"60"},{"name":"成都","value":"50"},{"name":"常州","value":"40"},{"name":"北京","value":"30"},{"name":"北海","value":"20"},{"name":"海口","value":"10"}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"center","orient":"vertical"},"legend":{"show":true,"data":["北京Top10","上海Top10","广州Top10"],"x":"left","y":"top","orient":"vertical","selected":{"北京Top10":false,"广州Top10":false},"selectedMode":"single","textStyle":{"color":"#fff"}},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#ff3333","orange","yellow","limegreen","aquamarine"],"min":0,"max":100},"color":["#FFD700","#7FFFD4","#32CD32",null],"backgroundColor":"#1b1b1b","title":{"text":"Baidu Migration","subtext":"Fictious Data","x":"center","y":"top","orient":"horizontal","textStyle":{"color":"white"}}},"evals":["series.1.markPoint.symbolSize","series.2.markPoint.symbolSize","series.3.markPoint.symbolSize"],"jsHooks":[]}</script>
</div>
<div id="addoverride-heatmap" class="section level2">
<h2><span class="header-section-number">4.5</span> Add/Override heatMap</h2>
<p>Let’s make up a fictious heatmap dataset. The dataset must be comprised of <code>lng</code>, <code>lat</code> and <code>heat value</code>.</p>
<pre class="r"><code>heatmap &lt;- sapply(1:15, function(i){
    x &lt;- 100 + runif(1, 0, 1) * 16
    y &lt;- 24 + runif(1, 0, 1) * 12
    lapply(0:floor(50 * abs(rnorm(1))), function(j){
        c(x+runif(1, 0, 1)*2, y+runif(1, 0, 1)*2, runif(1, 0, 1))
    })
})
heatmap &lt;- data.frame(matrix(unlist(heatmap), byrow=TRUE, ncol=3))
str(heatmap)</code></pre>
<pre><code>## &#39;data.frame&#39;:    538 obs. of  3 variables:
##  $ X1: num  100 101 101 102 100 ...
##  $ X2: num  25.8 26 25.2 25.7 26.5 ...
##  $ X3: num  0.0816 0.8113 0.9882 0.2924 0.3795 ...</code></pre>
<p>Then append/modify the heatmap to a base map using <code>addHeatmap</code> / <code>overrideHeatmap</code>.</p>
<pre class="r"><code>echartr(NULL, type=&quot;map_china&quot;) %&gt;% addHeatmap(data=heatmap)</code></pre>
<div id="echarts-a2490305b1f87c9e14adb4993318b03e01d14009" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-a2490305b1f87c9e14adb4993318b03e01d14009">{"x":{"series":[{"type":"map","roam":true,"mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"heatmap":{"data":[[100.47226608498,25.8488793224096,0.0816076670307666],[101.387870092876,26.0461773904972,0.811293207108974],[101.48590330407,25.1955908727832,0.988222582265735],[101.532390704378,25.7080327738076,0.29240346653387],[100.185921351425,26.4595558680594,0.379505869466811],[100.335566020571,25.9070412716828,0.244364699814469],[100.922541709151,25.8599144280888,0.516068370779976],[101.361478811596,24.8685268815607,0.333722852868959],[101.02922629891,25.3210918568075,0.824138413416222],[101.356975254137,26.4547767341137,0.213759328005835],[100.154163159896,24.9154160954058,0.176754697691649],[100.164963047486,26.1011716527864,0.111508579226211],[100.591383450665,25.7608663802966,0.197347602806985],[100.659877409227,25.8400094895624,0.667873490601778],[100.5629143361,25.3039053771645,0.661081554368138],[100.494783960748,26.4191239215434,0.566020488506183],[101.704443200491,24.8537636762485,0.888775433879346],[102.095601133071,26.0667568021454,0.0449998483527452],[100.633207136299,26.4351070304401,0.429971888661385],[101.379611690063,26.0479886829853,0.877374635310844],[100.157929303125,26.0721831107512,0.996413699351251],[101.08958170237,26.7330019064248,0.0188898874912411],[101.355870229658,26.7518682591617,0.824749409686774],[101.128426999319,25.7952040974051,0.480746854562312],[100.860239906702,24.894209140446,0.0615899218246341],[101.770242006518,24.9709383896552,0.235670587513596],[101.603539098054,25.4157554330304,0.579405495896935],[102.020423450507,26.7205397542566,0.228380523622036],[101.086510137655,26.0458035185002,0.344574118265882],[100.943027813919,25.7409789017402,0.975648595951498],[100.266525643878,26.0120874564163,0.186229363083839],[100.545111330692,26.4796848841943,0.577688314253464],[102.042603669688,25.4027418540791,0.0180915433447808],[100.483386703301,26.1377218868583,0.895917083602399],[105.505607077852,27.9263286730275,0.866225323406979],[104.284145201556,28.5755090955645,0.204164271242917],[104.666115404572,28.4440251500346,0.104872365249321],[105.029745840468,29.3325761226006,0.606724784476683],[105.079714678228,28.2941372813657,0.666619449621066],[104.89055186836,28.4578789137304,0.965584453660995],[104.836785445921,27.6802189806476,0.078034371137619],[104.260692306329,29.535497313831,0.638362197903916],[104.614332762081,29.1256607663818,0.297115015564486],[105.404094861355,28.200025905855,0.420871136244386],[104.699737946037,28.1403623227961,0.909614111296833],[105.481013585813,29.4045443772338,0.702435155399144],[105.223259899765,28.9313899208792,0.240986846154556],[105.636730678845,27.9619670235552,0.842070103622973],[105.090243585873,29.0546268653125,0.147544289706275],[104.87251412496,29.4494149521925,0.861192711163312],[103.896962839644,28.5141319553368,0.838806619634852],[105.336692852899,28.9951411080547,0.714302266947925],[105.245531635359,29.5236528129317,0.822524769464508],[105.601445804816,29.2271553897299,0.21987032960169],[105.248892044183,28.1013028202578,0.348668534541503],[105.756281092297,28.3820017175749,0.806608468759805],[105.786111341789,28.1025963900611,0.90329952747561],[105.574107708875,28.3555688872002,0.693534011952579],[104.859890773427,28.5740242041647,0.0342206272762269],[105.782369485591,28.0937499948777,0.579256260069087],[104.38301813649,29.5381375765428,0.159875650890172],[105.789702680428,29.0187805290334,0.294826483353972],[104.762961661909,28.3014488052577,0.0595324353780597],[104.530625986867,29.5396521915682,0.13058143784292],[104.806178110186,29.4439973365515,0.18437292939052],[104.398168254178,29.6203459948301,0.668888225452974],[105.264802803751,27.820594066754,0.519898531259969],[105.161919324659,29.25848172931,0.220182152232155],[103.917760545388,28.7451409925707,0.229987266240641],[105.388602649327,29.3331858520396,0.786687863990664],[105.010623874143,29.2741467715241,0.0293548556510359],[104.847322197165,29.235395309981,0.498907446628436],[104.80550325755,28.3163404818624,0.934797243913636],[104.268955988344,28.4533841460943,0.419394878670573],[104.490056572016,28.9164790431969,0.473881915910169],[104.340073886327,29.1058027930558,0.463489907793701],[104.440304588992,29.6276489980519,0.245625207200646],[105.243819791358,29.0064924824983,0.724636395694688],[104.736649272963,29.4328264268115,0.191048611653969],[104.131438196171,29.1335978093557,0.883421365637332],[105.744063946884,27.7174770194106,0.454427294200286],[105.458954504225,28.9793050973676,0.905330154113472],[104.977115548681,27.921828196384,0.111750579206273],[105.5838543633,27.7500425837934,0.608277876628563],[104.634844350629,28.8804245423526,0.613885909086093],[104.954751871526,29.5319344438612,0.739827321376652],[105.081217655446,29.3097994383425,0.672516245860606],[103.975834354758,28.02465846017,0.744197560939938],[104.278244032059,28.8199117989279,0.168179458007216],[105.806834280491,29.2837209263816,0.768090237397701],[113.60951302899,35.7994863735512,0.572972597787157],[112.257530729752,34.9740005829372,0.744808100629598],[112.029908460099,35.0627055820078,0.842575883259997],[112.689747749362,36.2027653926052,0.604848291026428],[112.431595259346,34.8204451138154,0.474453576141968],[112.25981622003,36.2810527356341,0.0116827166639268],[112.643538531847,35.7252683169208,0.333309894893318],[113.04766344605,34.6841100119054,0.735276550520211],[112.081973135006,35.6285931323655,0.521013840101659],[112.821304176003,36.5256133647636,0.522697317181155],[111.868004946038,35.038199015893,0.946310842875391],[111.912036482245,35.7304149456322,0.917530097998679],[112.667382268701,34.7679066737182,0.545656950213015],[112.282828741707,35.7509800866246,0.660355866653845],[113.167898843531,36.3418221897446,0.480773355811834],[112.861945738085,36.2010614969768,0.673888742923737],[112.55018411437,36.4553793487139,0.224190034205094],[112.626815789845,35.5825835317373,0.973027545493096],[112.381407144479,35.0373973776586,0.252609551418573],[112.185311523266,36.4060835032724,0.0627155802212656],[111.85911724437,35.4390148026869,0.205944193992764],[113.176268519834,36.3856559838168,0.264714641263708],[113.230807908345,35.3886563591659,0.950464106397703],[112.307733581867,35.0334774069488,0.688678763108328],[113.238975802902,36.4164557177573,0.263386070728302],[113.403901140671,35.4270902150311,0.779351169243455],[113.655339688063,36.5304295211099,0.0954474259633571],[113.166957123205,35.6385384011082,0.496140565257519],[113.111645739991,36.256095147226,0.821189430775121],[113.447178646922,34.9640713566914,0.713123447261751],[112.722578959074,34.6097687869333,0.510946480790153],[112.248544286471,34.8245794535615,0.47388733108528],[112.127666959073,35.483290229924,0.104998655850068],[113.585317233112,35.3010473321192,0.00664841756224632],[112.510200799443,35.0547209889628,0.505964115262032],[112.906968333293,35.3810314717703,0.0929310803767294],[112.999987970106,36.1375589217059,0.319309849524871],[113.563387853093,34.7563196611591,0.641812497051433],[113.103620182723,36.182165202219,0.666887510335073],[113.578647030517,35.2352602975443,0.649635783629492],[113.189004470594,36.0430836705491,0.485284413211048],[113.239822561387,35.9564158008434,0.663223165320233],[111.830747141503,35.6806475939229,0.0803079048637301],[112.413792876527,35.7259314972907,0.157663277350366],[112.082970228978,35.7922272812575,0.355024243239313],[113.717029260471,35.2916066716425,0.265421609627083],[113.750558824744,35.6044037984684,0.0391172335948795],[112.546394232195,35.3237972655334,0.688009324250743],[113.301450846251,36.0103756375611,0.416918551083654],[113.056045410689,35.4322958136909,0.476787695894018],[112.702090160456,35.1358779310249,0.235639211954549],[112.312101806514,34.9648190285079,0.541540617821738],[112.168548481539,34.9847256396897,0.686968971043825],[112.871433058288,35.9910302474163,0.373790209181607],[113.188298282214,35.6285744155757,0.53341953153722],[112.629063524306,34.826783976052,0.177426803624257],[113.347457869444,36.1537297479808,0.544955112272874],[113.32482022699,36.1044520167634,0.856366462307051],[113.608666553162,35.9546884382144,0.727727700956166],[112.301387134008,36.1975095137022,0.743947720620781],[112.632761808578,34.65461889375,0.512284461641684],[113.099900008645,36.2396015087143,0.874039495596662],[113.656267851591,35.2139425324276,0.83465137402527],[113.597718128469,36.1690427917056,0.728841290343553],[113.179671347141,35.1469303388149,0.04074244084768],[112.539898917545,35.0264369272627,0.788950928952545],[112.471823417116,36.2878859941848,0.256053641904145],[112.257939016446,36.3758418909274,0.824637997429818],[113.266469139606,35.2221544533968,0.651762534398586],[113.655759223271,35.3565391991287,0.527837594039738],[113.581136127934,35.164789723698,0.1448978879489],[111.810018253047,36.332816820126,0.355362823233008],[115.329989619087,33.1637534252368,0.540166094666347],[116.75019115489,32.2566811800934,0.809726916253567],[116.442024538759,33.5589279457927,0.348556028213352],[115.212504928,32.823852608446,0.815995560726151],[115.613263164647,32.7248442387208,0.395841938909143],[115.67889263574,32.0025934926234,0.542582881636918],[115.781955762766,32.7666054829024,0.656500971410424],[115.677129373886,32.9889252055436,0.0222050666343421],[115.969653879292,32.6473985449411,0.330689090769738],[116.682010373566,33.0691334623843,0.837392769753933],[115.438459557481,32.1762002315372,0.868582215858623],[116.428540109657,33.4382722484879,0.532517048763111],[116.605584965553,32.0162740079686,0.185675135580823],[115.716579318512,32.5255988673307,0.608496082946658],[115.529841137584,32.0369324986823,0.380633571883664],[116.586346184369,32.0607774103992,0.618034820072353],[115.879734193906,33.2875401885249,0.3262830064632],[116.80031700898,33.0397263471968,0.0765795046463609],[115.011606158223,33.4602872505784,0.957556020468473],[115.809313565958,32.1411758512259,0.139964209171012],[116.142182296142,32.3739495174959,0.936020777793601],[115.795607366599,33.4068245301023,0.0745982739608735],[115.46065695025,32.7764385757037,0.377207581885159],[114.997905588709,32.9870207579806,0.146553100319579],[115.989804264158,32.671807482373,0.98261866834946],[115.936213486828,33.2645041611977,0.363596865907311],[115.102037300356,31.7189512378536,0.368425113847479],[116.505310555454,33.3730701487511,0.506821116199717],[116.662742524408,32.2791668414138,0.0991212436929345],[116.832383473869,31.8342848196626,0.923220440512523],[116.08517777361,33.6061933385208,0.276817321544513],[116.488237608224,33.1957741766237,0.375747212441638],[116.235121326987,32.6037103417329,0.926833765814081],[115.753733062185,32.7896160329692,0.857805715873837],[115.844318124,32.1752721876837,0.465905239805579],[115.525880971923,31.6868046885356,0.810863241087645],[115.733327081893,33.22837437829,0.672415599925444],[116.31439559022,32.0782052883878,0.17275339923799],[115.999494921882,31.9597759912722,0.824814746854827],[115.147402828559,31.8590415730141,0.792511595413089],[109.799198380206,32.7597316778265,0.475481851724908],[109.354143999517,32.0460098292679,0.35043190815486],[110.743697877508,33.2365043447353,0.57340583903715],[110.907072026283,33.6061102063395,0.0863735189195722],[110.843930177856,32.2338738553226,0.287053446751088],[110.468527531251,33.9285346413963,0.0985495992936194],[110.392230530269,32.7801254601218,0.360104626510292],[109.560063189827,33.638263782952,0.581661811564118],[110.348921563942,33.0816005417146,0.984589404659346],[110.333657613955,33.8567656138912,0.199600147781894],[110.704402101226,32.5009411461651,0.855364729184657],[110.348069725093,32.822021976579,0.635114747099578],[110.618954025209,33.7535901763476,0.0482074981555343],[109.5152749517,33.7197032039985,0.599097819067538],[110.986473003868,32.8852224606089,0.112994803581387],[110.350552828051,33.8528764396906,0.0443731658160686],[109.623692435678,32.5609170459211,0.299408745486289],[109.649954816326,33.8748861448839,0.829010453773662],[109.745528872125,32.8507098448463,0.705269799102098],[109.101597358473,33.8364179031923,0.611260243225843],[109.021778228693,33.1501605440862,0.786791507853195],[110.534078353085,33.7681411411613,0.201902589062229],[110.412901251111,33.7467943457887,0.445894841104746],[109.535602339543,32.3006444168277,0.712228019023314],[110.991695989389,33.986644255463,0.479084486141801],[110.280236763414,32.3794024018571,0.793340663891286],[109.207780452445,33.1015797918662,0.625422543846071],[110.144828517921,33.8482084036805,0.941898696590215],[110.032302195672,32.7854562192224,0.344948885962367],[109.252188032493,32.3306969506666,0.0799025462474674],[110.961524357554,33.9927677311935,0.192468869034201],[109.027549914084,33.204471480567,0.898680617567152],[110.29574334342,33.9264507461339,0.194332709535956],[109.403322749771,32.388516986277,0.553360972553492],[109.278401103802,32.761481271591,0.650397817371413],[109.941743706353,32.8005089098588,0.439386337297037],[110.856302692555,32.8181771617383,0.648439252749085],[110.235415125266,33.5753114810213,0.446079311193898],[109.360847946256,33.5633475636132,0.753065624507144],[109.590984948445,32.8566793482751,0.530956677859649],[110.971835261211,33.9470382099971,0.0942266276106238],[109.602994111832,33.9332510503009,0.936485550832003],[110.500711122062,32.4902828433551,0.938334653852507],[109.210364984814,32.5241267131642,0.455628856783733],[109.602327868342,33.7290523448028,0.809811800252646],[110.908748321235,32.6615831525996,0.127991579473019],[109.965218653437,33.8069928875193,0.928248515352607],[109.686910070479,33.8747361912392,0.525591060053557],[110.099759456702,34.0071358676068,0.096840750426054],[109.432958869264,33.2727208160795,0.982186309993267],[105.677133082412,30.1097082807682,0.448079022346064],[106.759500097949,31.9190571820363,0.0480620155576617],[105.580340871587,30.7351699471474,0.813865425530821],[105.276449104305,31.7299547409639,0.448369446676224],[105.61348822806,30.2959942487068,0.403316423296928],[106.307874863967,31.8639512839727,0.626812474336475],[106.478232975118,30.1257138005458,0.637601317605004],[105.125196185894,30.4088476211764,0.349853036459535],[105.722932151519,31.3761570649222,0.522304016398266],[105.533498229925,31.5746004940011,0.518759397789836],[105.347129357979,30.6283729122952,0.102692113025114],[106.120396059938,31.1460459777154,0.166080746101215],[105.128009534907,31.9055765131488,0.803807311225682],[106.194500676822,31.1925927284174,0.443838662235066],[104.91843556799,31.1093750428408,0.852340994169936],[106.418134489562,30.9214028930292,0.357359551126137],[106.575049627107,30.3421922479756,0.470099952304736],[105.586038777605,31.2301144492812,0.261657422408462],[106.304763795808,30.5537721761502,0.507620996097103],[105.128190877382,31.1194834671915,0.967641586437821],[105.969386348035,29.9777230373584,0.969070266932249],[105.567707540002,31.7441468965262,0.820608160691336],[105.813386321068,31.3226923826151,0.0114779144059867],[106.761020739097,30.2784368740395,0.819391309283674],[106.364567025565,31.7302068234421,0.298005232820287],[106.532009395305,31.2855458748527,0.28600511350669],[105.688052635174,31.7078418051824,0.435614626854658],[106.054124341812,31.843286966905,0.624003282980993],[106.244215360843,31.8192604919896,0.58417244697921],[106.327607517596,30.7063217223622,0.67792429192923],[105.708503555506,31.5922001954168,0.480958102969453],[106.544569408987,31.7109280256554,0.679854471469298],[106.772959659342,30.8946867673658,0.619224560912699],[105.481521038804,30.1839427053928,0.169622076209635],[105.779654758517,30.5436925301328,0.0322963374201208],[105.194302732125,31.7007193225436,0.258635142119601],[106.348947890103,30.7960717556998,0.966077491873875],[105.809668403119,31.2648007613607,0.859228155110031],[111.021325683687,27.9953751997091,0.981854784302413],[107.762576418463,29.2552709458396,0.522341373376548],[108.696654446889,28.0778987603262,0.826020936248824],[108.209357448388,28.9870064808056,0.163621310144663],[108.843757587485,29.0033456576057,0.608159275026992],[109.140682398807,29.4714965568855,0.230179672595114],[108.549839226529,28.9195960722864,0.372328411554918],[107.984961534385,28.1663124668412,0.973659314680845],[108.910111578647,29.2121096933261,0.877674396615475],[107.485747166444,29.4811122436076,0.170651231426746],[114.676836621016,31.2378451903351,0.501100557623431],[114.306717420928,32.5155194266699,0.859285741578788],[115.106468321756,31.3040757016279,0.97158922161907],[114.202744996175,31.3294399506412,0.532955885399133],[113.517507544719,31.3625838872977,0.260140988742933],[114.962326639332,32.606541137211,0.762930948054418],[113.572878832463,31.7924358514138,0.809646798297763],[114.976726050489,32.3212860669009,0.629662945866585],[113.69046417065,32.5220927321352,0.820478768553585],[114.480099802837,30.7529091518372,0.346676532644778],[115.32755809091,32.6572226565331,0.530124464770779],[114.331190217286,30.9244601689279,0.970107054105029],[114.044408571906,31.5979300234467,0.0700744120404124],[115.166962974239,31.3330049193464,0.001401575980708],[114.304791610688,31.451896417886,0.576422162353992],[115.094573663548,31.5731296981685,0.86830798513256],[115.220209051389,31.4468053653836,0.894022897817194],[115.130696403328,32.4176826118492,0.955231483327225],[113.498761904892,32.4590586684644,0.964770048623905],[115.011370568536,32.3952956530266,0.276592828799039],[114.345954921562,31.0966562209651,0.178007276728749],[115.018583322875,31.4105988163501,0.474613545462489],[113.840622109827,32.3794870055281,0.435247026383877],[113.810877963435,31.977965678554,0.834786851890385],[114.938218708616,30.8226482127793,0.292882982175797],[115.395659682807,32.0045747407712,0.173814045265317],[113.464428633451,32.3925414499827,0.63368317252025],[114.414637038484,31.5363242789172,0.744044762803242],[113.687855358236,31.9522016360424,0.884049216285348],[115.231887878384,31.9622441465035,0.615411316277459],[115.384386397433,31.8453448009677,0.753572538960725],[115.29067786457,31.300505568739,0.536084735766053],[114.547209245618,32.641242172569,0.861244793748483],[114.396072634961,32.5050429450348,0.860448739724234],[114.168895171955,31.8504298380576,0.470761351520196],[113.609218107071,32.2093740375713,0.102305436041206],[113.573496456724,31.8788718967699,0.680384220089763],[114.485210296698,32.4313285555691,0.507929118117318],[104.430271867197,26.1443726005964,0.0314413986634463],[103.670517446008,27.2300069704652,0.926492103142664],[103.182193869259,25.9525878718123,0.736988291144371],[103.345156764146,25.9872834882699,0.672624950064346],[104.541062210221,26.2268196279183,0.357109079603106],[103.955396446399,27.5637617101893,0.347839405527338],[103.285836948548,26.3532121339813,0.378658628324047],[104.000001731794,26.7946707843803,0.396932806586847],[104.358372869436,27.2284029424191,0.378778907470405],[102.761770345736,27.4552135923877,0.485076643060893],[103.934740962461,27.4142656591721,0.493193776113912],[102.922424059827,25.8659153790213,0.213222477585077],[103.108055010438,27.7932944465429,0.390944734914228],[103.936120763421,27.3145978194661,0.184619102627039],[104.139718945138,26.9812603658065,0.701149014756083],[103.452688577585,26.9080097596161,0.67043876554817],[103.458309637848,26.3787400159054,0.219581593526527],[103.779979926068,25.8584473086521,0.634911436587572],[102.751984071452,26.92641744297,0.597905161324888],[104.210310120136,26.2647513304837,0.478501945501193],[104.241194250993,27.4405113272369,0.888876994838938],[103.317531194538,27.7274146121927,0.502606509253383],[104.49312155135,26.3978778026067,0.565921935485676],[103.523223283701,27.57086529769,0.924209465272725],[103.694703476969,26.7917592977174,0.0416328236460686],[103.892726513557,25.9952291431837,0.412190956063569],[104.509381636512,27.5453008697368,0.438670254079625],[103.361842514947,27.3798154024407,0.698798982892185],[103.888244181406,26.5234629712068,0.533646882278845],[104.576573969796,26.3001380735077,0.584319962421432],[103.49460815778,26.1764200031757,0.90652025048621],[103.599215315189,26.8945781672373,0.905297839082778],[103.73455389915,27.1807622052729,0.110723796067759],[103.129777924623,26.117946378421,0.087329784873873],[103.700818704907,27.2435781299137,0.154418883146718],[103.881057782099,26.1180834532715,0.427496638381854],[104.539349451195,27.1784401359037,0.891125904163346],[104.304692246486,27.0661683892831,0.575827070511878],[103.608065930661,27.3497933233157,0.737745154649019],[103.892407312524,27.0571938520297,0.451222213217989],[104.426058595534,26.531810272485,0.55829725950025],[103.957112901844,26.8572613298893,0.391986508388072],[104.334484837018,26.1510682972148,0.431219690712169],[107.599685402587,26.8734900858253,0.0370376571081579],[106.318866726942,27.0721692014486,0.115381243405864],[105.969781502616,26.8296474083327,0.277638074941933],[106.285840956494,26.3780867769383,0.523571034427732],[107.054245013744,26.0119747440331,0.112434616079554],[106.026067350525,27.3725084234029,0.263367589330301],[107.535112489481,26.2641364070587,0.714379769517109],[107.115379667841,26.4017760856077,0.906960911117494],[106.938398288563,26.3965201047249,0.499176914570853],[107.528703389689,27.0089873750694,0.0617367899976671],[106.001078695059,27.4353624070063,0.791896146256477],[105.852989298292,26.8101160475053,0.935488293180242],[107.333052984439,26.460452101659,0.757638749200851],[106.697654985823,27.9056977294385,0.889178476529196],[107.187096277718,26.8446491868235,0.230764906853437],[107.33957100613,26.8998480150476,0.0379197946749628],[106.877737169154,27.276191662997,0.942488492233679],[106.827437088825,26.9471158762462,0.107993602287024],[106.362890843768,26.6581234261394,0.119154539192095],[107.482408512384,27.4721390986815,0.468802097020671],[105.922386627179,27.3804279305041,0.119499228429049],[106.787586073857,26.7930707996711,0.672313510207459],[106.368178048171,27.7869956307113,0.818566782167181],[107.525926662609,26.8672068677843,0.776466651121154],[105.928657374345,26.5889377822168,0.658685301896185],[107.449245647527,26.9560915110633,0.142667953856289],[106.561398840509,26.7704038936645,0.29069903306663],[105.913046815898,26.4738950850442,0.408546486636624],[106.546368995216,27.5461210552603,0.301477011060342],[107.436412470881,27.2753728614189,0.975927437189966],[107.041788125411,27.6564948139712,0.741832425119355],[106.413652861491,27.0779097331688,0.425352958962321],[106.940715792589,26.4643591898493,0.299350557848811],[105.649496019818,26.274688903708,0.854522594949231],[106.759395581204,26.2478018701077,0.864837251836434],[106.202143532224,27.3933030106127,0.19672905956395],[106.94117249595,27.7217001682147,0.45825894549489],[105.754723934922,26.3119047270156,0.143004415091127],[105.937993183266,26.9290949399583,0.125215619569644],[106.918762246612,27.5860808715224,0.235753522720188],[106.785076921806,25.9370031603612,0.604448951780796],[106.165713413619,27.4387410660274,0.986417666077614],[105.806834099349,27.1161140864715,0.845166314393282],[107.159272227902,27.6330300024711,0.283858752809465],[107.566680996213,27.4770640330389,0.794886713381857],[106.097239453811,25.9615829633549,0.00490037887357175],[106.130333024543,26.9906147145666,0.248316013021395],[105.818514640443,26.6909492043778,0.732463716296479],[105.998719256371,26.9822947960347,0.809971109032631],[105.912619856186,27.8109273626469,0.783035449218005],[107.284791152459,27.2041821656749,0.262196467025205],[106.51846562326,26.387646464631,0.0491758435964584],[105.944583917502,27.1930301040411,0.30242957198061],[106.828165659681,26.6092338603921,0.00509732961654663],[107.429702582769,27.3741227132268,0.326193213928491],[106.93292546412,27.1274672551081,0.711596362991259],[106.858288704418,26.6827877536416,0.775585872586817],[106.980635376181,26.0832812883891,0.0109924243297428],[106.275204506237,27.3955986392684,0.279557831818238],[107.047058590688,26.6144394595176,0.541800520615652],[106.895666990429,27.245127686765,0.978366557974368],[106.16545584891,27.1827128836885,0.353040342219174],[107.897359552793,33.8715798472986,0.00754389190115035],[107.2280457546,33.8422377328388,0.257496983744204],[107.125384435989,34.7148460694589,0.838412953307852],[106.704759058077,34.8541095335968,0.5969066566322],[107.175778421573,33.6607071873732,0.682246264070272],[106.613197888713,34.597853041254,0.708749553421512],[107.85976510169,34.8660396914929,0.888899637386203],[106.741605442949,35.3351042545401,0.29412516974844],[107.873080197256,33.83107797103,0.872597109526396],[106.555039752275,34.9733792343177,0.0607493105344474],[107.125873647165,35.4964575069025,0.628404946764931],[107.405629484914,34.6674506706186,0.0387748200446367],[106.411363269202,33.749249599874,0.294244724558666],[107.050207325257,35.5781994853169,0.708137071691453],[106.781081778463,35.6548849786632,0.00758873950690031],[106.336795157287,34.8561937143095,0.094670627033338],[107.842811272014,35.5488402610645,0.964546272996813],[107.916975609958,35.0586347575299,0.782638360979035],[107.373617002275,34.4224308677949,0.825948443263769],[107.89258974744,34.7682615602389,0.54771150322631],[106.976350664161,34.8889212617651,0.509265215601772],[107.812458250672,35.337058740668,0.0190372462384403],[103.468296007253,32.8422717074864,0.335615815827623],[104.208734550979,33.1859726519324,0.319125135429204],[103.844541661441,33.1131301452406,0.106286768103018],[103.633183485363,32.7401977921836,0.343954168027267],[104.240970265586,32.9741171374917,0.416060583665967],[102.363678503782,33.1885510454886,0.988072887063026],[103.610412161332,32.0990853128023,0.0829010219313204],[103.797330521047,32.7715816530399,0.661882154643536],[104.259685023222,33.5670337630436,0.981643961276859],[103.423361840192,33.5542655591853,0.10793318040669],[102.882294907235,33.0200904500671,0.425701618427411],[104.246383009013,32.9895419101231,0.172353169880807],[103.269962816965,32.1228140001185,0.545650362502784],[103.540672517847,32.9510181187652,0.928325222572312],[103.266571599059,33.772924861405,0.921673187287524],[102.722830742132,33.0503451554105,0.439657662296668],[102.813140848186,32.4020429146476,0.339072715258226],[103.993289281614,32.5463852412067,0.591078262310475],[102.49024120206,33.146764958743,0.907220996683463],[102.385308655445,32.4072157763876,0.107449617004022],[102.649207641836,33.2580975391902,0.253606646088883],[103.379958478734,32.562553812284,0.89630721998401],[104.020255924668,32.2701307390817,0.316000577062368],[102.419624431059,32.7579408008605,0.159636850003153],[102.844357816502,32.6586271123961,0.481031547766179],[103.341748139821,33.6570173786022,0.701841086847708],[104.25227963645,32.6988908560015,0.242301858728752],[103.324492380023,32.2924545723945,0.691521481843665],[103.165013063233,32.1413462245837,0.145112731028348],[102.685247037094,33.6037672846578,0.57346716709435],[102.67961400887,32.3602228518575,0.495276059489697],[103.472798686475,31.923295634333,0.232737868325785],[103.898831322324,33.5062786927447,0.333325556945056],[103.40230963612,31.918819071725,0.998066116124392],[104.037325558718,32.2665132652037,0.0594844375737011],[103.097392987926,32.8127964208834,0.306605647550896],[103.431714721955,32.6228788117878,0.967237638775259],[104.314926511142,33.5541018517688,0.66172700910829],[102.849391490221,33.324783608783,0.929757050005719],[116.986481272615,31.2175985919312,0.583804989932105],[117.566831259057,31.6952040302567,0.339436830254272],[117.32261401834,31.0369314821437,0.459237303584814],[116.458561946172,32.1383118052036,0.976094022626057],[116.934157703537,31.991116526071,0.372224878519773],[115.773822281975,31.1331657436676,0.447806705720723],[117.014583578799,31.9791359961964,0.551688168896362],[116.081225180533,32.3608265127987,0.87917180522345],[116.170821475796,31.9552137111314,0.0727078102063388],[117.455271407962,31.2202069968916,0.243832556298003],[116.618357677944,31.5273435721174,0.197148021776229],[116.189879354089,30.7004346470349,0.294867236167192],[116.060309348628,31.6672779009677,0.938938223291188],[117.189005043358,30.7121919528581,0.181400215951726],[116.660026874393,31.3971929405816,0.847754596034065],[116.600780077744,32.3583571822383,0.818550337105989],[117.595632380806,30.9850894575939,0.460832306649536],[116.368808341678,32.0962288705632,0.0222662461455911],[116.145274607465,31.2894416730851,0.731944251572713],[117.185534142423,30.805417524185,0.0785850584506989],[116.964504093863,31.6292747776024,0.0121322411578149],[116.679731240496,31.4706258969381,0.321594648063183],[115.96297549177,32.1060353093781,0.734492963645607],[113.66551822843,36.9891091408208,0.55309925484471],[114.345060909167,37.3108440698124,0.835836143232882],[114.390924851876,35.5486929561011,0.257048292318359],[115.305410129949,36.4778550607152,0.458400938659906],[115.02347854292,36.108681906946,0.545535312499851],[114.383661765605,36.7947143497877,0.943983699893579],[115.013172750361,37.20754365623,0.369100386044011],[115.254641637206,35.5413324451074,0.635228790342808],[114.966058399994,35.7995674260892,0.939334441209212],[113.713358067907,36.0280719860457,0.276206948095933],[114.261681348551,36.4563301382586,0.182643330423161]],"gradientColors":["blue","cyan","lime","yellow","orange","red"],"blurSize":30,"minAlpha":0.05,"valueScale":1,"opacity":1}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":"solid"},"textStyle":{"color":"#fff"},"backgroundColor":"rgba(0,0,0,0.7)"},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<hr />
<p>You can refer to related functions to play around on your own.</p>
</div>
</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
    // active menu
    var href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href === '') href = './';
    $('a[href="' + href + '"]').parent().addClass('active');
});
</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
